<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seguridad en APIs y MySQL - Semana 4</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>◉</text></svg>">
    <link rel="stylesheet" href="css/presentacion.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Mermaid.js para diagramas -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="js/mermaid-config.js"></script>

    <!-- Prism.js para Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
</head>

<body>
    <div class="uide-logo">
        <img src="../../Logo%20UIDE.png" alt="UIDE Logo">
    </div>
    <div class="presentation-container">
        <!-- Slide 1: Title -->
        <div class="slide active title-slide">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h3 style="color: #e2e8f0; font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem;">
                    Presentación Semana 4
                </h3>
                <h2 style="color: var(--uide-accent); font-size: 2.2rem; font-weight: 600; margin-bottom: 0.5rem;">
                    Seguridad en APIs y MySQL
                </h2>
                <p style="color: #ffffff; font-size: 1.4rem; font-weight: 500;">
                    LTI_05A_458 PMSBD • Cuarto Nivel
                </p>
                <p style="color: #e2e8f0; font-size: 1.2rem; margin-top: 0.5rem;">
                    Programación de Middleware y Seguridad en Base de Datos
                </p>
            </div>
            <div style="text-align: center; margin: 2rem 0;">
                <p style="color: #ffffff; font-size: 1.3rem; font-weight: 600;">
                    Prof. Charlie Cárdenas Toledo, M.Sc.
                </p>
                <p style="color: var(--uide-primary); font-size: 1.2rem; font-weight: 500; margin-top: 0.5rem;">
                    Octubre 2025 – Febrero 2026
                </p>
            </div>
            <div
                style="text-align: center; margin-top: 2.5rem; padding: 25px; background: rgba(15, 20, 25, 0.6); border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.1);">
                <h3 style="color: var(--uide-accent); font-size: 1.4rem; margin-bottom: 1rem;">
                    <i class="fas fa-shield-alt"></i> Unidad 2: Protocolos y Seguridad en Middleware
                </h3>
                <p style="color: #e2e8f0; font-size: 1.1rem; line-height: 1.4; margin: 0.5rem 0;">
                    <strong>Semana 4</strong> • CIA, Modelos de Amenaza • Criptografía: Hash, Simétrica, Asimétrica •
                    TLS y PKI orientada a APIs
                </p>
                <p style="color: #cbd5e1; font-size: 1rem; margin-top: 1rem; font-style: italic;">
                    Implementación práctica de seguridad en MySQL con TLS, cifrado AES, JWT y modelo de amenaza STRIDE
                </p>
            </div>
        </div>

        <!-- Slide 2: Caso de Estudio - Marketplace Agrícola -->
        <div class="slide">
            <h2><i class="fas fa-seedling"></i> Caso de Estudio: Marketplace Agrícola</h2>
            <div style="padding: 30px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 25px;">
                    <div
                        style="padding: 20px; background: rgba(239, 68, 68, 0.1); border-radius: 10px; border-left: 4px solid #ef4444;">
                        <h3 style="color: #ef4444; margin-bottom: 15px;"><i class="fas fa-chart-line"></i> Problemática
                        </h3>
                        <ul style="font-size: 0.95rem; line-height: 1.8;">
                            <li><strong>84.5%</strong> agricultura familiar, solo <strong>20%</strong> de tierra</li>
                            <li><strong>75.6%</strong> productores con menos de 10 hectáreas</li>
                            <li>Solo <strong>7.4%</strong> accede a crédito</li>
                            <li>Solo <strong>6.8%</strong> recibe asistencia técnica</li>
                            <li>Pobreza rural: <strong>43.3%</strong> vs urbana: 20.9%</li>
                        </ul>
                    </div>
                    <div
                        style="padding: 20px; background: rgba(34, 197, 94, 0.1); border-radius: 10px; border-left: 4px solid #22c55e;">
                        <h3 style="color: #22c55e; margin-bottom: 15px;"><i class="fas fa-lightbulb"></i> Solución
                            Tecnológica</h3>
                        <ul style="font-size: 0.95rem; line-height: 1.8;">
                            <li><strong>Asignación algorítmica equitativa</strong> de pedidos</li>
                            <li><strong>Rotación automática</strong> de productores</li>
                            <li><strong>Trazabilidad completa</strong> producción-entrega</li>
                            <li><strong>Certificaciones digitales</strong> orgánicas</li>
                            <li><strong>Optimización logística</strong> por geolocalización</li>
                        </ul>
                    </div>
                </div>
                <div
                    style="padding: 20px; background: rgba(233, 171, 33, 0.1); border-radius: 10px; text-align: center;">
                    <h3 style="color: var(--uide-accent); margin-bottom: 10px;"><i class="fas fa-shield-alt"></i>
                        Desafío de Seguridad</h3>
                    <p style="font-size: 1.1rem;">¿Cómo proteger datos sensibles de 636,375 productores y garantizar
                        transparencia en transacciones?</p>
                </div>
            </div>
        </div>

        <!-- Slide 3: Actividades y Herramientas -->
        <div class="slide">
            <h2><i class="fas fa-clipboard-list"></i> Actividades Calificadas y Herramientas</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; padding: 0 40px;">
                <!-- Columna Izquierda: Actividades Calificadas -->
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div
                        style="padding: 20px; background: rgba(15, 20, 25, 0.6); border-radius: 12px; border: 2px solid var(--uide-primary);">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h3 style="color: var(--uide-primary); font-size: 1.3rem; margin: 0;">
                                <i class="fas fa-clipboard-check"></i> Actividades Calificadas
                            </h3>
                        </div>

                        <div id="activitiesContentPMSBD" style="display: flex; flex-direction: column; gap: 12px;">
                            <!-- PE-1.4 -->
                            <div
                                style="padding: 15px; background: rgba(96, 165, 250, 0.1); border-left: 4px solid #60a5fa; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <h4 style="color: #60a5fa; font-size: 1.1rem; margin: 0 0 8px 0;">
                                        <i class="fas fa-flask"></i> PE-1.4
                                    </h4>
                                    <span
                                        style="background: rgba(96, 165, 250, 0.2); color: #60a5fa; padding: 4px 12px; border-radius: 12px; font-size: 0.9rem; font-weight: 600;">
                                        2.25 pts
                                    </span>
                                </div>
                                <p style="color: #e2e8f0; font-size: 0.95rem; margin: 0; line-height: 1.5;">
                                    <strong>Laboratorio:</strong> Configurar TLS local y firmar/verificar JWT (o PASETO)
                                    con IA
                                </p>
                            </div>

                            <!-- TA-1.4 -->
                            <div
                                style="padding: 15px; background: rgba(168, 85, 247, 0.1); border-left: 4px solid #a855f7; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <h4 style="color: #a855f7; font-size: 1.1rem; margin: 0 0 8px 0;">
                                        <i class="fas fa-home"></i> TA-1.4
                                    </h4>
                                    <span
                                        style="background: rgba(168, 85, 247, 0.2); color: #a855f7; padding: 4px 12px; border-radius: 12px; font-size: 0.9rem; font-weight: 600;">
                                        2.25 pts
                                    </span>
                                </div>
                                <p style="color: #e2e8f0; font-size: 0.95rem; margin: 0; line-height: 1.5;">
                                    <strong>Mini informe:</strong> Modelo de amenaza (STRIDE) de la API
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Columna Derecha: Herramientas -->
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div
                        style="padding: 20px; background: rgba(15, 20, 25, 0.6); border-radius: 12px; border: 2px solid var(--uide-accent);">
                        <h3 style="color: var(--uide-accent); font-size: 1.3rem; margin: 0 0 15px 0;">
                            <i class="fas fa-tools"></i> Herramientas
                        </h3>

                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-database" style="color: var(--uide-accent); font-size: 1.2rem;"></i>
                                <span style="color: #e2e8f0; font-size: 1rem;">MySQL 8.0 + MySQL Workbench</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-lock" style="color: var(--uide-accent); font-size: 1.2rem;"></i>
                                <span style="color: #e2e8f0; font-size: 1rem;">OpenSSL (certificados TLS)</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fab fa-node-js" style="color: var(--uide-accent); font-size: 1.2rem;"></i>
                                <span style="color: #e2e8f0; font-size: 1rem;">Node.js (JWT demo)</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-shield-alt" style="color: var(--uide-accent); font-size: 1.2rem;"></i>
                                <span style="color: #e2e8f0; font-size: 1rem;">OWASP ZAP (opcional)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: La Triada CIA (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-shield-alt"></i> La Triada CIA: Fundamentos de Seguridad</h2>
            <div style="padding: 20px 40px;">
                <!-- Texto introductorio -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <p style="font-size: 1.1rem; color: #cbd5e1; font-style: italic; line-height: 1.5;">
                        "Los tres objetivos fundamentales de cualquier programa de ciberseguridad"
                    </p>
                </div>

                <!-- Grid de tres columnas -->
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px;">

                    <!-- Confidencialidad -->
                    <div
                        style="background: linear-gradient(135deg, rgba(37, 99, 235, 0.15) 0%, rgba(29, 78, 216, 0.1) 100%); border-radius: 12px; padding: 25px; border: 1px solid rgba(59, 130, 246, 0.3); min-height: 450px; display: flex; flex-direction: column;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div
                                style="width: 80px; height: 80px; margin: 0 auto 15px; background: rgba(59, 130, 246, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-lock" style="color: #60a5fa; font-size: 2.5rem;"></i>
                            </div>
                            <h3 style="color: #60a5fa; font-size: 1.3rem; margin: 0 0 10px 0; font-weight: 700;">
                                Confidencialidad</h3>
                            <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.4;">
                                Protección contra acceso no autorizado
                            </p>
                        </div>

                        <div style="flex: 1;">
                            <div style="margin-bottom: 15px;">
                                <p style="color: #60a5fa; font-weight: 600; font-size: 0.85rem; margin: 0 0 8px 0;">
                                    <i class="fas fa-angle-right"></i> Datos en reposo
                                </p>
                                <p style="color: #60a5fa; font-weight: 600; font-size: 0.85rem; margin: 0 0 8px 0;">
                                    <i class="fas fa-angle-right"></i> Datos en tránsito
                                </p>
                                <p style="color: #60a5fa; font-weight: 600; font-size: 0.85rem; margin: 0 0 15px 0;">
                                    <i class="fas fa-angle-right"></i> Datos en uso
                                </p>
                            </div>

                            <div
                                style="background: rgba(15, 20, 25, 0.4); padding: 12px; border-radius: 8px; border-left: 3px solid #3b82f6;">
                                <p style="color: #3b82f6; font-weight: 700; font-size: 0.8rem; margin: 0 0 5px 0;">
                                    MySQL:</p>
                                <code style="color: #60a5fa; font-size: 0.75rem;">AES_ENCRYPT()</code>
                            </div>
                        </div>
                    </div>

                    <!-- Integridad -->
                    <div
                        style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(5, 150, 105, 0.1) 100%); border-radius: 12px; padding: 25px; border: 1px solid rgba(52, 211, 153, 0.3); min-height: 450px; display: flex; flex-direction: column;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div
                                style="width: 80px; height: 80px; margin: 0 auto 15px; background: rgba(16, 185, 129, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-check-circle" style="color: #34d399; font-size: 2.5rem;"></i>
                            </div>
                            <h3 style="color: #34d399; font-size: 1.3rem; margin: 0 0 10px 0; font-weight: 700;">
                                Integridad</h3>
                            <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.4;">
                                Garantía contra modificaciones
                            </p>
                        </div>

                        <div style="flex: 1;">
                            <div style="margin-bottom: 15px;">
                                <p style="color: #34d399; font-weight: 600; font-size: 0.85rem; margin: 0 0 8px 0;">
                                    <i class="fas fa-angle-right"></i> Validación de datos
                                </p>
                                <p style="color: #34d399; font-weight: 600; font-size: 0.85rem; margin: 0 0 8px 0;">
                                    <i class="fas fa-angle-right"></i> Hash y firmas
                                </p>
                                <p style="color: #34d399; font-weight: 600; font-size: 0.85rem; margin: 0 0 15px 0;">
                                    <i class="fas fa-angle-right"></i> Control de cambios
                                </p>
                            </div>

                            <div
                                style="background: rgba(15, 20, 25, 0.4); padding: 12px; border-radius: 8px; border-left: 3px solid #10b981;">
                                <p style="color: #10b981; font-weight: 700; font-size: 0.8rem; margin: 0 0 5px 0;">
                                    MySQL:</p>
                                <code style="color: #34d399; font-size: 0.75rem;">SHA2(), HMAC</code>
                            </div>
                        </div>
                    </div>

                    <!-- Disponibilidad -->
                    <div
                        style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(217, 119, 6, 0.1) 100%); border-radius: 12px; padding: 25px; border: 1px solid rgba(251, 191, 36, 0.3); min-height: 450px; display: flex; flex-direction: column;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div
                                style="width: 80px; height: 80px; margin: 0 auto 15px; background: rgba(245, 158, 11, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-bolt" style="color: #fbbf24; font-size: 2.5rem;"></i>
                            </div>
                            <h3 style="color: #fbbf24; font-size: 1.3rem; margin: 0 0 10px 0; font-weight: 700;">
                                Disponibilidad</h3>
                            <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.4;">
                                Acceso oportuno para usuarios
                            </p>
                        </div>

                        <div style="flex: 1;">
                            <div style="margin-bottom: 15px;">
                                <p style="color: #fbbf24; font-weight: 600; font-size: 0.85rem; margin: 0 0 8px 0;">
                                    <i class="fas fa-angle-right"></i> Redundancia
                                </p>
                                <p style="color: #fbbf24; font-weight: 600; font-size: 0.85rem; margin: 0 0 8px 0;">
                                    <i class="fas fa-angle-right"></i> Rate limiting
                                </p>
                                <p style="color: #fbbf24; font-weight: 600; font-size: 0.85rem; margin: 0 0 15px 0;">
                                    <i class="fas fa-angle-right"></i> Alta disponibilidad
                                </p>
                            </div>

                            <div
                                style="background: rgba(15, 20, 25, 0.4); padding: 12px; border-radius: 8px; border-left: 3px solid #f59e0b;">
                                <p style="color: #f59e0b; font-weight: 700; font-size: 0.8rem; margin: 0 0 5px 0;">
                                    MySQL:</p>
                                <code style="color: #fbbf24; font-size: 0.75rem;">Replication, Clustering</code>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: PREPARACIÓN - Setup Base de Datos -->
        <div class="slide">
            <h2><i class="fas fa-database"></i> PREPARACIÓN: Setup de Base de Datos</h2>
            <div style="padding: 30px;">
                <div
                    style="background: rgba(234, 179, 8, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #eab308;">
                    <p style="font-size: 1rem;"><i class="fas fa-exclamation-triangle"></i> <strong>IMPORTANTE:</strong>
                        Todos deben ejecutar este script ANTES de iniciar las prácticas (10-15 minutos)</p>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <!-- Columna Izquierda: Descargar -->
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;"><i class="fas fa-download"></i> Paso
                            1: Descargar Script SQL</h3>
                        <div
                            style="padding: 20px; background: rgba(59, 130, 246, 0.1); border-radius: 10px; text-align: center; margin-bottom: 20px;">
                            <a href="setup_database.sql" download
                                style="display: inline-block; padding: 15px 30px; background: var(--uide-primary); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1.1rem;">
                                <i class="fas fa-file-download"></i> setup_database.sql
                            </a>
                        </div>
                        <div style="padding: 15px; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                            <h4 style="color: #10b981; margin: 0 0 10px 0; font-size: 0.95rem;"><i
                                    class="fas fa-box"></i> Incluye:</h4>
                            <ul style="font-size: 0.85rem; line-height: 1.8; margin: 0;">
                                <li>4 tablas completas</li>
                                <li>Datos de ejemplo de productores ecuatorianos</li>
                                <li>Función generate_hmac()</li>
                                <li>8 amenazas STRIDE pre-documentadas</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Columna Derecha: Instrucciones Workbench -->
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;"><i class="fas fa-cogs"></i> Paso 2:
                            Ejecutar en MySQL Workbench</h3>
                        <div style="background: rgba(15, 20, 25, 0.6); padding: 15px; border-radius: 8px;">
                            <ol style="font-size: 0.9rem; line-height: 2; margin: 0; padding-left: 20px;">
                                <li>Abrir <strong>MySQL Workbench</strong></li>
                                <li>Conectarse al servidor MySQL local</li>
                                <li>Menú: <strong>File → Open SQL Script</strong></li>
                                <li>Seleccionar <code>setup_database.sql</code></li>
                                <li>Click en <strong><i class="fas fa-bolt" style="color: #eab308;"></i>
                                        Execute</strong> (rayo amarillo)</li>
                                <li>Esperar a que termine (20-30 seg)</li>
                            </ol>
                        </div>
                        <div
                            style="margin-top: 15px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                            <p style="font-size: 0.85rem; margin: 0;"><strong>Verificación:</strong> Verás el mensaje
                                <span style="color: #22c55e;">"Base de datos configurada exitosamente!"</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: PRÁCTICA - Verificar TLS en MySQL -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 1: Verificar TLS en MySQL</h2>
            <div style="padding: 30px;">
                <div
                    style="background: rgba(34, 197, 94, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #22c55e;">
                    <p style="font-size: 0.95rem;"><i class="fas fa-shield-alt"></i> <strong>Caso de Uso:</strong>
                        Proteger conexiones de 636,375 productores al marketplace</p>
                </div>
                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h3 style="color: var(--uide-accent); margin-bottom: 10px;"><i class="fas fa-info-circle"></i>
                        Objetivo</h3>
                    <p style="font-size: 1rem;">Verificar que MySQL tiene TLS habilitado y activarlo si es necesario
                        (Confidencialidad en tránsito)</p>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <!-- Columna Izquierda: Verificar TLS -->
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;"><i class="fas fa-search"></i>
                            Verificar si TLS está activo</h3>
                        <pre class="line-numbers"><code class="language-sql">-- Verificar que TLS está habilitado
SHOW VARIABLES LIKE '%ssl%';

-- Ver estado de la conexión actual
SHOW STATUS LIKE 'Ssl_cipher';

-- Verificar versión de TLS
SHOW STATUS LIKE 'Ssl_version';</code></pre>
                        <div
                            style="margin-top: 15px; padding: 12px; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                            <p style="font-size: 0.9rem;"><strong> Esperado:</strong> have_ssl = YES, Ssl_cipher
                                activo, TLSv1.2+</p>
                        </div>
                    </div>

                    <!-- Columna Derecha: Configurar TLS -->
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;"><i class="fas fa-cog"></i>
                            Configurar TLS (si no está activo)</h3>
                        <pre class="line-numbers"><code class="language-sql">-- Opción 1: Activar sin reiniciar (MySQL 8.0.16+)
SET PERSIST require_secure_transport=ON;

-- Recargar configuración TLS sin reinicio
ALTER INSTANCE RELOAD TLS;

-- Verificar cambios
SHOW VARIABLES LIKE 'require_secure_transport';</code></pre>
                        <pre class="line-numbers" style="margin-top: 10px;"><code class="language-bash"># Opción 2: Editar my.ini (Windows) y reiniciar
[mysqld]
require_secure_transport=ON
ssl-ca=ca.pem
ssl-cert=server-cert.pem
ssl-key=server-key.pem</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Triada DAD (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-exclamation-triangle"></i> La Triada DAD: Amenazas a CIA</h2>
            <div style="padding: 30px;">
                <div class="quote" style="margin-bottom: 30px;">
                    "Cada amenaza DAD ataca directamente un pilar de CIA"
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                    <div style="padding: 20px; background: rgba(239, 68, 68, 0.1); border-radius: 10px;">
                        <h3 style="color: #ef4444; margin-bottom: 15px;"><i class="fas fa-unlock"></i> Divulgación</h3>
                        <p style="font-size: 0.95rem; margin-bottom: 10px;">Ataca: <strong>Confidencialidad</strong></p>
                        <ul style="font-size: 0.85rem; line-height: 1.6;">
                            <li>Cuentas bancarias expuestas</li>
                            <li>JWT tokens filtrados</li>
                            <li>Ubicaciones GPS públicas</li>
                        </ul>
                    </div>
                    <div style="padding: 20px; background: rgba(251, 146, 60, 0.1); border-radius: 10px;">
                        <h3 style="color: #fb923c; margin-bottom: 15px;"><i class="fas fa-wrench"></i> Alteración</h3>
                        <p style="font-size: 0.95rem; margin-bottom: 10px;">Ataca: <strong>Integridad</strong></p>
                        <ul style="font-size: 0.85rem; line-height: 1.6;">
                            <li>Manipular algoritmo rotación</li>
                            <li>Falsificar trazabilidad</li>
                            <li>Alterar certificaciones</li>
                        </ul>
                    </div>
                    <div style="padding: 20px; background: rgba(234, 179, 8, 0.1); border-radius: 10px;">
                        <h3 style="color: #eab308; margin-bottom: 15px;"><i class="fas fa-ban"></i> Denegación</h3>
                        <p style="font-size: 0.95rem; margin-bottom: 10px;">Ataca: <strong>Disponibilidad</strong></p>
                        <ul style="font-size: 0.85rem; line-height: 1.6;">
                            <li>DDoS a API de pedidos</li>
                            <li>Bloquear dashboard productores</li>
                            <li>Saturar sistema asignación</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Criptografía Simétrica (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-key"></i> Criptografía Simétrica: AES</h2>
            <div style="padding: 30px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Características</h3>
                        <ul style="font-size: 1.05rem; line-height: 2;">
                            <li><strong>Una sola clave</strong> compartida</li>
                            <li><strong>Muy rápida</strong> para cifrar/descifrar</li>
                            <li><strong>Ideal</strong> para grandes volúmenes</li>
                            <li><strong>Problema:</strong> distribución de clave</li>
                        </ul>
                    </div>
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">AES en MySQL</h3>
                        <ul style="font-size: 1.05rem; line-height: 2;">
                            <li><code>AES_ENCRYPT()</code></li>
                            <li><code>AES_DECRYPT()</code></li>
                            <li>Clave de 128, 192 o 256 bits</li>
                            <li>Protege datos sensibles</li>
                        </ul>
                    </div>
                </div>
                <div style="padding: 20px; background: rgba(233, 171, 33, 0.1); border-radius: 10px;">
                    <h3 style="color: var(--uide-accent); margin-bottom: 10px;">Uso en Marketplace Agrícola</h3>
                    <p style="font-size: 1.05rem;"><i class="fas fa-seedling"></i> Cifrar cuentas bancarias de 636,375
                        productores, datos de tarjetas de crédito de consumidores, información financiera sensible</p>
                </div>
            </div>
        </div>
        <!-- Slide 7: PRÁCTICA - Cifrado AES en MySQL -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 2: Cifrado AES - Marketplace Agrícola</h2>
            <div style="padding: 30px;">
                <div
                    style="background: rgba(34, 197, 94, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #22c55e;">
                    <p style="font-size: 0.95rem;"><i class="fas fa-seedling"></i> <strong>Caso de Uso:</strong>
                        Proteger datos bancarios de productores agrícolas (84.5% agricultura familiar)</p>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <!-- Columna Izquierda: Paso 1 -->
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Paso 1: Usar base de datos existente
                        </h3>
                        <pre class="line-numbers"><code class="language-sql">-- La base de datos ya fue creada con setup_database.sql
USE marketplace_agricola;

-- Verificar productores existentes (sin cifrar aún)
SELECT id, nombre, email, cuenta_bancaria
FROM productores
LIMIT 5;</code></pre>
                        <div
                            style="margin-top: 15px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                            <p style="font-size: 0.85rem; margin: 0;"><strong>Resultado:</strong> 20 productores con cuenta_bancaria = NULL</p>
                        </div>
                    </div>

                    <!-- Columna Derecha: Paso 2 -->
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Paso 2: Cifrar cuentas bancarias</h3>
                        <pre class="line-numbers"><code class="language-sql">-- Definir clave de cifrado (usar variable de sesión)
SET @encryption_key = 'MarketplaceAgricola2024!UIDE';

-- Actualizar productores con cuentas bancarias cifradas
UPDATE productores
SET cuenta_bancaria = AES_ENCRYPT(
    CONCAT(
        LPAD(FLOOR(RAND() * 10000000000), 10, '0'),
        '-BANCO-',
        CASE
            WHEN id % 3 = 0 THEN 'PICHINCHA'
            WHEN id % 3 = 1 THEN 'GUAYAQUIL'
            ELSE 'PACIFICO'
        END
    ), @encryption_key
)
WHERE id BETWEEN 1 AND 20;</code></pre>
                        <div
                            style="margin-top: 15px; padding: 12px; background: rgba(234, 179, 8, 0.1); border-radius: 8px;">
                            <p style="font-size: 0.85rem; margin: 0;"><strong>Nota:</strong> AES_ENCRYPT usa
                                AES-128-ECB por defecto. Verificar con <code>@@block_encryption_mode</code></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: PRÁCTICA - Descifrar datos AES -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 2 (continuación): Descifrar Datos</h2>
            <div style="padding: 30px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Ver datos cifrados (binario)</h3>
                        <pre class="line-numbers"><code class="language-sql">-- Ver en formato hexadecimal
SELECT id, nombre,
       HEX(cuenta_bancaria) AS cuenta_cifrada
FROM productores
WHERE cuenta_bancaria IS NOT NULL;</code></pre>
                    </div>
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Descifrar con la clave correcta</h3>
                        <pre class="line-numbers"><code class="language-sql">-- Descifrar con AES_DECRYPT
SELECT nombre, hectareas,
       CAST(AES_DECRYPT(cuenta_bancaria, @encryption_key)
            AS CHAR) AS cuenta_descifrada
FROM productores
WHERE cuenta_bancaria IS NOT NULL;</code></pre>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 15px; background: rgba(16, 185, 129, 0.1); border-radius: 10px;">
                    <p style="font-size: 0.95rem;"><strong>Resultado:</strong> Solo personal autorizado con la clave
                        puede ver cuentas bancarias. Con clave incorrecta: <code>NULL</code></p>
                </div>
                <div style="margin-top: 15px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                    <p style="font-size: 0.85rem; margin: 0;"><strong>Documentación:</strong>
                        <code>AES_DECRYPT</code> retorna NULL si la clave es incorrecta o los datos están corruptos</p>
                </div>
            </div>
        </div>

        <!-- Slide 9: Hash y HMAC (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-hashtag"></i> Hash y HMAC: Integridad de Datos</h2>
            <div style="padding: 30px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div style="padding: 20px; background: rgba(59, 130, 246, 0.1); border-radius: 10px;">
                        <h3 style="color: #3b82f6; margin-bottom: 15px;"><i class="fas fa-fingerprint"></i> Hash</h3>
                        <ul style="font-size: 0.95rem; line-height: 1.8;">
                            <li><strong>Función unidireccional</strong></li>
                            <li>Salida de longitud fija</li>
                            <li>Mismo input = mismo hash</li>
                            <li>Algoritmos: SHA-256, SHA-512</li>
                        </ul>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <code style="font-size: 0.85rem;">SHA2('password', 256)</code>
                        </div>
                    </div>
                    <div style="padding: 20px; background: rgba(168, 85, 247, 0.1); border-radius: 10px;">
                        <h3 style="color: #a855f7; margin-bottom: 15px;"><i class="fas fa-shield-alt"></i> HMAC</h3>
                        <ul style="font-size: 0.95rem; line-height: 1.8;">
                            <li><strong>Hash + clave secreta</strong></li>
                            <li>Verifica integridad</li>
                            <li>Detecta manipulación</li>
                            <li>Uso: Logs de auditoría</li>
                        </ul>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <code style="font-size: 0.85rem;">HMAC = SHA2(secret + data + secret)</code>
                        </div>
                        <div
                            style="margin-top: 15px; padding: 10px; background: rgba(234, 179, 8, 0.1); border-radius: 5px; border-left: 3px solid #eab308;">
                            <p style="font-size: 0.8rem; margin: 0; color: #eab308;"><strong>Nota:</strong> MySQL no
                                tiene función HMAC nativa. Implementación manual con SHA2</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10: PRÁCTICA - HMAC para Logs -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 3: HMAC - Trazabilidad de Pedidos</h2>
            <div style="padding: 30px;">
                <div
                    style="background: rgba(34, 197, 94, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #22c55e;">
                    <p style="font-size: 0.95rem;"><i class="fas fa-truck"></i> <strong>Caso de Uso:</strong> Garantizar
                        integridad en trazabilidad desde producción hasta entrega</p>
                </div>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Paso 1: Verificar tabla de trazabilidad existente</h3>
                <pre class="line-numbers"><code class="language-sql">-- La tabla ya fue creada con setup_database.sql
USE marketplace_agricola;

-- Verificar eventos de trazabilidad (sin HMAC aún)
SELECT id, pedido_id, productor_id, estado, hmac_signature
FROM trazabilidad_pedidos
LIMIT 5;</code></pre>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px; margin-top: 20px;">Paso 2: Usar función HMAC existente
                </h3>
                <pre class="line-numbers"><code class="language-sql">-- La función generate_hmac ya existe en setup_database.sql
-- Verificar que existe
SHOW FUNCTION STATUS WHERE Name = 'generate_hmac';

-- Definir clave secreta para HMAC
SET @secret_key = 'TrazabilidadAgricola2024';</code></pre>
            </div>
        </div>

        <!-- Slide 11: PRÁCTICA - Insertar y Verificar HMAC -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 3 (continuación): Generar y Verificar HMAC</h2>
            <div style="padding: 30px;">
                <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Paso 3: Generar HMAC para eventos existentes
                </h3>
                <pre class="line-numbers"><code class="language-sql">SET @secret_key = 'TrazabilidadAgricola2024';

-- Actualizar todos los eventos con HMAC
UPDATE trazabilidad_pedidos
SET hmac_signature = generate_hmac(
    CONCAT(pedido_id, productor_id, estado, ubicacion_gps),
    @secret_key
)
WHERE hmac_signature IS NULL;</code></pre>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px; margin-top: 20px;">Paso 4: Verificar integridad de
                    trazabilidad</h3>
                <pre class="line-numbers"><code class="language-sql">SELECT pedido_id, productor_id, estado, timestamp,
       CASE WHEN hmac_signature = generate_hmac(
           CONCAT(pedido_id, productor_id, estado, ubicacion_gps), @secret_key)
       THEN 'VÁLIDO' ELSE 'MANIPULADO' END AS integridad
FROM trazabilidad_pedidos
ORDER BY timestamp DESC
LIMIT 10;</code></pre>
            </div>
        </div>

        <!-- Slide 12: Criptografía Asimétrica (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-key"></i> Criptografía Asimétrica: RSA</h2>
            <div style="padding: 30px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Características</h3>
                        <ul style="font-size: 1.05rem; line-height: 2;">
                            <li><strong>Par de claves:</strong> pública + privada</li>
                            <li><strong>Lenta</strong> comparada con simétrica</li>
                            <li><strong>Clave pública:</strong> cifrar y verificar</li>
                            <li><strong>Clave privada:</strong> descifrar y firmar</li>
                        </ul>
                    </div>
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Usos Principales</h3>
                        <ul style="font-size: 1.05rem; line-height: 2;">
                            <li><strong>Firmas digitales</strong> (JWT)</li>
                            <li><strong>Intercambio de claves</strong> (TLS)</li>
                            <li><strong>No repudio</strong></li>
                            <li><strong>Autenticación</strong></li>
                        </ul>
                    </div>
                </div>
                <div style="padding: 20px; background: rgba(233, 171, 33, 0.1); border-radius: 10px;">
                    <h3 style="color: var(--uide-accent); margin-bottom: 10px;">JWT con RS256</h3>
                    <p style="font-size: 1.05rem;">Firma el token con clave privada, verifica con clave pública → No
                        repudio garantizado</p>
                </div>
            </div>
        </div>
        <!-- Slide 13: JWT (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-id-card"></i> JWT: JSON Web Tokens</h2>
            <div style="padding: 30px;">
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Estructura de JWT</h3>
                    <div
                        style="padding: 20px; background: rgba(59, 130, 246, 0.1); border-radius: 10px; font-family: monospace;">
                        <div style="margin-bottom: 10px;"><span
                                style="color: #ef4444;">eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9</span> <span
                                style="color: #888;">← Header</span></div>
                        <div style="margin-bottom: 10px;"><span
                                style="color: #10b981;">eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIn0</span> <span
                                style="color: #888;">← Payload</span></div>
                        <div><span style="color: #a855f7;">SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</span> <span
                                style="color: #888;">← Signature</span></div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                    <div style="padding: 15px; background: rgba(239, 68, 68, 0.1); border-radius: 10px;">
                        <h4 style="color: #ef4444; margin-bottom: 10px;">Header</h4>
                        <p style="font-size: 0.9rem;">Algoritmo (RS256) y tipo (JWT)</p>
                    </div>
                    <div style="padding: 15px; background: rgba(16, 185, 129, 0.1); border-radius: 10px;">
                        <h4 style="color: #10b981; margin-bottom: 10px;">Payload</h4>
                        <p style="font-size: 0.9rem;">Datos del usuario (claims)</p>
                    </div>
                    <div style="padding: 15px; background: rgba(168, 85, 247, 0.1); border-radius: 10px;">
                        <h4 style="color: #a855f7; margin-bottom: 10px;">Signature</h4>
                        <p style="font-size: 0.9rem;">Firma con clave privada RSA</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 14: PRÁCTICA - Generar Claves RSA -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 4: JWT con RS256</h2>
            <div style="padding: 30px;">
                <h3 style="color: var(--uide-accent); margin-bottom: 15px; text-align: center;">Paso 1: Generar par de claves RSA (RS256)</h3>

                <div style="text-align: center; margin-bottom: 15px; padding: 10px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                    <p style="font-size: 0.9rem; margin: 0; color: #cbd5e1;">
                        <i class="fas fa-info-circle"></i> <strong>Requisito:</strong> Tener OpenSSL instalado y accesible desde la consola
                    </p>
                </div>

                <!-- Dos columnas: Windows y Mac -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <!-- Columna Izquierda: Windows -->
                    <div>
                        <div style="text-align: center; margin-bottom: 15px; padding: 10px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                            <h4 style="color: #60a5fa; margin: 0;">
                                <i class="fab fa-windows"></i> Windows (PowerShell o CMD)
                            </h4>
                        </div>
                        <pre class="line-numbers"><code class="language-bash"># Generar clave privada RSA (forma recomendada)
openssl genpkey -algorithm RSA -out private_key.pem -pkeyopt rsa_keygen_bits:2048

# [Opcional / Legacy] Forma antigua
# openssl genrsa -out private_key.pem 2048

# Extraer clave pública
openssl rsa -in private_key.pem -pubout -out public_key.pem

# Ver las claves (solo para comprobar)
type private_key.pem
type public_key.pem</code></pre>
                    </div>

                    <!-- Columna Derecha: Mac -->
                    <div>
                        <div style="text-align: center; margin-bottom: 15px; padding: 10px; background: rgba(156, 163, 175, 0.1); border-radius: 8px;">
                            <h4 style="color: #9ca3af; margin: 0;">
                                <i class="fab fa-apple"></i> Mac/Linux (Terminal)
                            </h4>
                        </div>
                        <pre class="line-numbers"><code class="language-bash"># Generar clave privada RSA (forma recomendada)
openssl genpkey -algorithm RSA -out private_key.pem -pkeyopt rsa_keygen_bits:2048

# [Opcional / Legacy] Forma antigua
# openssl genrsa -out private_key.pem 2048

# Extraer clave pública
openssl rsa -in private_key.pem -pubout -out public_key.pem

# Ver las claves (solo para comprobar)
cat private_key.pem
cat public_key.pem</code></pre>
                    </div>
                </div>

                <div style="margin-top: 20px; padding: 15px; background: rgba(234, 179, 8, 0.1); border-radius: 10px; border-left: 4px solid #eab308;">
                    <p style="font-size: 0.95rem; margin: 0;"><i class="fas fa-lock"></i> <strong>Nota importante:</strong></p>
                    <ul style="font-size: 0.9rem; margin: 8px 0 0 0; padding-left: 20px; line-height: 1.6;">
                        <li>La clave privada (<code>private_key.pem</code>) <strong>NUNCA</strong> se comparte.</li>
                        <li>La clave pública (<code>public_key.pem</code>) sí se puede distribuir a otros servicios para verificar los JWT firmados.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 15: PRÁCTICA - Crear JWT con Node.js -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 4 (continuación): JWT para Productores</h2>
            <div style="padding: 30px;">
                <div
                    style="background: rgba(34, 197, 94, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #22c55e;">
                    <p style="font-size: 0.95rem;"><i class="fas fa-user-shield"></i> <strong>Caso de Uso:</strong>
                        Autenticar productores y garantizar no repudio en transacciones</p>
                </div>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Paso 2: Ejecutar script Node.js</h3>
                <pre class="line-numbers"><code class="language-bash"># Archivo: jwt-demo.js (ya proporcionado)
node jwt-demo.js</code></pre>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px; margin-top: 20px;">Paso 3: Almacenar sesiones
                    en tabla existente</h3>
                <pre class="line-numbers"><code class="language-sql">-- La tabla sesiones_productores ya existe en setup_database.sql
USE marketplace_agricola;

-- Ejemplo: Productor María Fernández inicia sesión
INSERT INTO sesiones_productores (productor_id, token, fecha_expiracion)
VALUES (
    1,  -- ID de María Fernández
    'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...',  -- Token del script jwt-demo.js
    DATE_ADD(NOW(), INTERVAL 8 HOUR)
);</code></pre>
                <div style="margin-top: 15px; padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 10px;">
                    <p style="font-size: 0.95rem;"><strong>Payload JWT incluye:</strong> productor_id, nombre,
                        hectareas, ubicacion_gps, rol</p>
                </div>
            </div>
        </div>

        <!-- Slide 16: TLS (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-lock"></i> TLS: Transport Layer Security</h2>
            <div style="padding: 30px;">
                <div class="quote" style="margin-bottom: 30px;">
                    "TLS protege los datos en tránsito entre cliente y servidor"
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">¿Qué protege TLS?</h3>
                        <ul style="font-size: 1.05rem; line-height: 2;">
                            <li><strong>Confidencialidad:</strong> Cifrado de datos</li>
                            <li><strong>Integridad:</strong> Detección de alteraciones</li>
                            <li><strong>Autenticación:</strong> Verificación de identidad</li>
                        </ul>
                    </div>
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Handshake TLS</h3>
                        <ol style="font-size: 1.05rem; line-height: 2;">
                            <li>Cliente → Hola (versión TLS)</li>
                            <li>Servidor → Certificado</li>
                            <li>Intercambio de claves (RSA/DH)</li>
                            <li>Comunicación cifrada (AES)</li>
                        </ol>
                    </div>
                </div>
                <div style="padding: 20px; background: rgba(233, 171, 33, 0.1); border-radius: 10px;">
                    <p style="font-size: 1.05rem;"><strong>HTTPS = HTTP + TLS</strong> → Candado en el navegador <i
                            class="fas fa-lock"></i></p>
                </div>
            </div>
        </div>

        <!-- Slide 17: Modelo STRIDE (Teoría) -->
        <div class="slide">
            <h2><i class="fas fa-exclamation-triangle"></i> Modelo de Amenaza: STRIDE</h2>
            <div style="padding: 30px;">
                <table style="width: 100%; border-collapse: collapse; font-size: 0.95rem;">
                    <thead>
                        <tr style="background: rgba(233, 171, 33, 0.2);">
                            <th style="padding: 12px; border: 1px solid rgba(255,255,255,0.2); text-align: left;">
                                Amenaza</th>
                            <th style="padding: 12px; border: 1px solid rgba(255,255,255,0.2); text-align: left;">
                                Descripción</th>
                            <th style="padding: 12px; border: 1px solid rgba(255,255,255,0.2); text-align: left;">Ataca
                                a</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">
                                <strong>S</strong>poofing
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Suplantación de
                                identidad</td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Autenticación</td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.05);">
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">
                                <strong>T</strong>ampering
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Alteración de datos</td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Integridad</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">
                                <strong>R</strong>epudiation
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Negar acciones
                                realizadas</td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">No Repudio</td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.05);">
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">
                                <strong>I</strong>nformation Disclosure
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Divulgación de
                                información</td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Confidencialidad</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);"><strong>D</strong>enial
                                of Service</td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Denegación de servicio
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Disponibilidad</td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.05);">
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">
                                <strong>E</strong>levation of Privilege
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Elevación de privilegios
                            </td>
                            <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Autorización</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 18: PRÁCTICA - Modelo de Amenaza -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 5: Documentar Amenazas STRIDE</h2>
            <div style="padding: 30px;">
                <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Verificar tabla de amenazas existente</h3>
                <pre class="line-numbers"><code class="language-sql">-- La tabla threat_model ya existe en setup_database.sql
USE marketplace_agricola;

-- Consultar amenazas ya documentadas (8 amenazas pre-cargadas)
SELECT componente, amenaza_stride, impacto, probabilidad, control_implementado
FROM threat_model
ORDER BY
    FIELD(impacto, 'Crítico', 'Alto', 'Medio', 'Bajo'),
    FIELD(probabilidad, 'Alta', 'Media', 'Baja');</code></pre>
                <div style="margin-top: 15px; padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 10px;">
                    <p style="font-size: 0.95rem;"><strong>Resultado:</strong> 8 amenazas STRIDE ya identificadas para el marketplace</p>
                </div>
            </div>
        </div>
        <!-- Slide 19: PRÁCTICA - Insertar Amenazas -->
        <div class="slide">
            <h2><i class="fas fa-laptop-code"></i> PRÁCTICA 5 (continuación): Analizar Amenazas Existentes</h2>
            <div style="padding: 30px;">
                <div
                    style="background: rgba(34, 197, 94, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #22c55e;">
                    <p style="font-size: 0.95rem;"><i class="fas fa-shield-alt"></i> <strong>Análisis STRIDE:</strong>
                        Las 8 amenazas ya están documentadas en la tabla threat_model</p>
                </div>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Consultar amenazas por categoría STRIDE</h3>
                <pre class="line-numbers"><code class="language-sql">-- Analizar distribución de amenazas por tipo STRIDE
SELECT amenaza_stride, COUNT(*) AS total,
       GROUP_CONCAT(CONCAT(componente, ' (', impacto, ')') SEPARATOR '; ') AS componentes
FROM threat_model
GROUP BY amenaza_stride
ORDER BY total DESC;</code></pre>
                <h3 style="color: var(--uide-accent); margin-bottom: 15px; margin-top: 20px;">Consultar amenazas críticas</h3>
                <pre class="line-numbers"><code class="language-sql">-- Ver amenazas críticas y sus controles
SELECT componente, amenaza_stride, descripcion,
       control_implementado,
       CASE WHEN control_implementado LIKE '%Pendiente%'
            THEN '⚠ REQUIERE ATENCIÓN'
            ELSE 'MITIGADO'
       END AS estado
FROM threat_model
WHERE impacto = 'Crítico'
ORDER BY FIELD(control_implementado, 'Pendiente implementación', 'Pendiente') DESC;</code></pre>
            </div>
        </div>

        <!-- Slide 20: Entregables -->
        <div class="slide">
            <h2><i class="fas fa-clipboard-check"></i> Entregables de la Semana</h2>
            <div style="padding: 40px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <!-- PE-1.4 -->
                    <div
                        style="padding: 25px; background: rgba(96, 165, 250, 0.1); border-left: 4px solid #60a5fa; border-radius: 10px;">
                        <h3 style="color: #60a5fa; margin-bottom: 15px;"><i class="fas fa-flask"></i> PE-1.4 (2.25 pts)
                        </h3>
                        <h4 style="color: var(--uide-accent); margin-bottom: 10px;">Laboratorio Marketplace Agrícola
                        </h4>
                        <p style="font-size: 0.95rem; margin-bottom: 15px;">Documento PDF con capturas de pantalla:</p>
                        <ul style="font-size: 0.9rem; line-height: 1.8;">
                            <li> Verificación de TLS en MySQL</li>
                            <li> Cuentas bancarias cifradas/descifradas (AES)</li>
                            <li> JWT de autenticación de productor</li>
                            <li> Trazabilidad con HMAC válido</li>
                        </ul>
                    </div>

                    <!-- TA-1.4 -->
                    <div
                        style="padding: 25px; background: rgba(168, 85, 247, 0.1); border-left: 4px solid #a855f7; border-radius: 10px;">
                        <h3 style="color: #a855f7; margin-bottom: 15px;"><i class="fas fa-home"></i> TA-1.4 (2.25 pts)
                        </h3>
                        <h4 style="color: var(--uide-accent); margin-bottom: 10px;">Modelo de Amenaza STRIDE</h4>
                        <p style="font-size: 0.95rem; margin-bottom: 15px;">Documento de 1-2 páginas:</p>
                        <ul style="font-size: 0.9rem; line-height: 1.8;">
                            <li> Tabla de amenazas STRIDE del marketplace</li>
                            <li> Matriz de riesgo</li>
                            <li> Controles implementados</li>
                            <li> Recomendaciones</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 22: Recursos -->
        <div class="slide">
            <h2><i class="fas fa-book"></i> Recursos y Referencias</h2>
            <div style="padding: 40px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Documentación Oficial</h3>
                        <ul style="font-size: 0.95rem; line-height: 2;">
                            <li><a href="https://dev.mysql.com/doc/refman/8.0/en/using-encrypted-connections.html"
                                    target="_blank" style="color: #60a5fa;">MySQL SSL/TLS</a></li>
                            <li><a href="https://jwt.io/" target="_blank" style="color: #60a5fa;">JWT.io - Debugger</a>
                            </li>
                            <li><a href="https://www.openssl.org/docs/" target="_blank" style="color: #60a5fa;">OpenSSL
                                    Documentation</a></li>
                        </ul>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px; margin-top: 25px;">Herramientas
                            Online</h3>
                        <ul style="font-size: 0.95rem; line-height: 2;">
                            <li><a href="https://gchq.github.io/CyberChef/" target="_blank"
                                    style="color: #60a5fa;">CyberChef</a></li>
                            <li><a href="https://www.ssllabs.com/ssltest/" target="_blank" style="color: #60a5fa;">SSL
                                    Labs Test</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px;">Lecturas Complementarias</h3>
                        <ul style="font-size: 0.95rem; line-height: 2;">
                            <li><a href="https://owasp.org/www-project-api-security/" target="_blank"
                                    style="color: #60a5fa;">OWASP API Security Top 10</a></li>
                            <li><a href="https://learn.microsoft.com/en-us/azure/security/develop/threat-modeling-tool-threats"
                                    target="_blank" style="color: #60a5fa;">Microsoft STRIDE</a></li>
                        </ul>
                        <h3 style="color: var(--uide-accent); margin-bottom: 15px; margin-top: 25px;">Archivos del
                            Laboratorio</h3>
                        <ul style="font-size: 0.95rem; line-height: 2;">
                            <li><a href="LABORATORIO.md" target="_blank"
                                    style="color: #60a5fa;"><code>LABORATORIO.md</code></a> - Guía completa</li>
                            <li><a href="laboratorio.sql" target="_blank"
                                    style="color: #60a5fa;"><code>laboratorio.sql</code></a> - Scripts SQL</li>
                            <li><a href="jwt-demo.js" target="_blank"
                                    style="color: #60a5fa;"><code>jwt-demo.js</code></a> - Demo JWT</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Slide: Referencias Bibliográficas -->
    <div class="slide">
        <h2><i class="fas fa-book"></i> Referencias Bibliográficas</h2>
        <div style="max-width: 1000px; margin: 0 auto;">
            <h3 style="margin-bottom: 1.5rem;">Bibliografía Básica</h3>
            <ul style="font-size: 1rem; line-height: 1.8; margin-bottom: 2rem;">
                <li><strong>Beynon-Davies, P. (2018).</strong> <em>Sistemas de Bases de Datos</em>. Editorial
                    Reverté. <a href="https://www.proquest.com/books/sistemas-de-bases-datos/docview/2590135108/se-2"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
            </ul>

            <h3 style="margin-bottom: 1.5rem;">Bibliografía Complementaria</h3>
            <ul style="font-size: 0.95rem; line-height: 1.7;">
                <li><strong>Tanenbaum, A. S., & Van Steen, M. (2023).</strong> <em>Distributed Systems:
                        Principles
                        and Paradigms</em> (3rd ed.). Pearson. <a
                        href="https://alex-nguyen.github.io/vinhtngu/CSCourses/Spring2020/CS5352/Distributed_Systems_3-200225.pdf"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
                <li><strong>Newman, S. (2021).</strong> <em>Building Microservices: Designing Fine-Grained
                        Systems</em> (2nd ed.). O'Reilly Media. <a
                        href="https://www.oreilly.com/library/view/building-microservices-2nd/9781492034018/"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
                <li><strong>Kleppmann, M. (2023).</strong> <em>Designing Data-Intensive Applications: The Big
                        Ideas
                        Behind Reliable, Scalable, and Maintainable Systems</em> (2nd ed.). O'Reilly Media. <a
                        href="https://www.oreilly.com/library/view/designing-data-intensive-applications/9781098119058/"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
            </ul>

            <h3 style="margin-bottom: 1.5rem; margin-top: 2rem;">Fuente ASU</h3>
            <ul style="font-size: 0.95rem; line-height: 1.7;">
                <li><strong>Arizona State University. (2024).</strong> <em>CSE445 (Distributed Software
                        Development)</em>. Computer Science and Engineering Program. Online</li>
                <li><strong>Arizona State University. (2024).</strong> <em>Master Class: A Practitioner's Guide
                        to
                        Generative AI</em> - April 2024</li>
            </ul>
        </div>
    </div>
    </div>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
        <span class="slide-counter">
            <input type="number" id="slideInput" min="1" max="23" value="1" title="Ir al slide (presiona Enter)" style="width: 50px; text-align: center; background: rgba(0,0,0,0.5);
                          border: 1px solid var(--uide-accent); color: #fff;
                          border-radius: 4px; padding: 5px; margin: 0 5px; font-size: 1rem; font-weight: 600;">
            / <span id="totalSlides">23</span>
        </span>
        <button class="nav-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    <script src="presentacion.js"></script>

    <!-- Script para actualizar años automáticamente -->
    <script>
        (function() {
            const currentYear = new Date().getFullYear();

            // Reemplazar todos los elementos con clase 'current-year'
            document.querySelectorAll('.current-year').forEach(el => {
                el.textContent = currentYear;
            });

            // También reemplazar años estáticos en código SQL dentro de <code> tags
            document.querySelectorAll('code').forEach(codeBlock => {
                // Reemplazar MarketplaceAgricola2024 con el año actual
                if (codeBlock.textContent.includes('MarketplaceAgricola2024')) {
                    codeBlock.innerHTML = codeBlock.innerHTML.replace(/MarketplaceAgricola2024/g, `MarketplaceAgricola${currentYear}`);
                }
                // Reemplazar TrazabilidadAgricola2024 con el año actual
                if (codeBlock.textContent.includes('TrazabilidadAgricola2024')) {
                    codeBlock.innerHTML = codeBlock.innerHTML.replace(/TrazabilidadAgricola2024/g, `TrazabilidadAgricola${currentYear}`);
                }
            });
        })();
    </script>

</body>

</html>