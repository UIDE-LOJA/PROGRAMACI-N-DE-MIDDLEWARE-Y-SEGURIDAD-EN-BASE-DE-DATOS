<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocolos y Formatos en Sistemas Distribuidos</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚óâ</text></svg>">
    <link rel="stylesheet" href="css/presentacion.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Mermaid.js para diagramas -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="js/mermaid-config.js"></script>

    <!-- Prism.js para Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-protobuf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-xml-doc.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
</head>

<body>
    <div class="uide-logo">
        <img src="../../Logo%20UIDE.png" alt="UIDE Logo">
    </div>
    <div class="presentation-container">
        <!-- Slide 1: Title -->
        <div class="slide active title-slide">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h3 style="color: #e2e8f0; font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem;">
                    Presentaci√≥n Semana 3
                </h3>
                <h2 style="color: var(--uide-accent); font-size: 2.2rem; font-weight: 600; margin-bottom: 0.5rem;">
                    Protocolos y Formatos en Sistemas Distribuidos
                </h2>
                <p style="color: #ffffff; font-size: 1.4rem; font-weight: 500;">
                    LTI_05A_458 PMSBD ‚Ä¢ Cuarto Nivel
                </p>
                <p style="color: #e2e8f0; font-size: 1.2rem; margin-top: 0.5rem;">
                    Programaci√≥n Middleware y Sistemas Basados en Datos
                </p>
            </div>
            <div style="text-align: center; margin: 2rem 0;">
                <p style="color: #ffffff; font-size: 1.3rem; font-weight: 600;">
                    Mgs. Charlie C√°rdenas Toledo
                </p>
                <p style="color: var(--uide-primary); font-size: 1.2rem; font-weight: 500; margin-top: 0.5rem;">
                    Universidad Internacional del Ecuador ‚Ä¢ Octubre 2025 ‚Äì Febrero 2026
                </p>
            </div>
            <div
                style="text-align: center; margin-top: 2.5rem; padding: 25px; background: rgba(15, 20, 25, 0.6); border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.1);">
                <h3 style="color: var(--uide-accent); font-size: 1.4rem; margin-bottom: 1rem;">
                    <i class="fas fa-network-wired"></i> Unidad 2: Protocolos y Seguridad en Middleware
                </h3>
                <p style="color: #e2e8f0; font-size: 1.1rem; line-height: 1.4; margin: 0.5rem 0;">
                    <strong>Semana 3</strong> ‚Ä¢ HTTP/2, WebSockets, gRPC ‚Ä¢ Formatos: JSON, Protobuf, MessagePack ‚Ä¢ XML b√°sico y rol enterprise
                </p>
                <p style="color: #cbd5e1; font-size: 1rem; margin-top: 1rem; font-style: italic;">
                    Protocolos de comunicaci√≥n y formatos de intercambio de datos en sistemas distribuidos
                </p>
            </div>
        </div>

        <!-- Slide 2: Objetivos -->
        <div class="slide">
            <h2><i class="fas fa-bullseye"></i> Objetivos de la Presentaci√≥n</h2>
            <ul>
                <li>Dominar <span class="highlight">protocolos de comunicaci√≥n de alto rendimiento</span> (HTTP/2,
                    WebSockets, gRPC)</li>
                <li>Analizar <span class="highlight">formatos de serializaci√≥n</span> modernos (JSON, Protobuf,
                    MessagePack)</li>
                <li>Comprender el <span class="highlight">rol b√°sico y empresarial de XML</span></li>
                <li>Evaluar <span class="highlight">ventajas y limitaciones</span> de cada tecnolog√≠a</li>
                <li>Aplicar criterios de <span class="highlight">selecci√≥n tecnol√≥gica</span> seg√∫n contexto</li>
            </ul>
        </div>

        <!-- Slide 3: Agenda -->
        <div class="slide">
            <h2><i class="fas fa-list-check"></i> Agenda</h2>
            <div class="content-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-bolt"></i> 1. HTTP/2</h3>
                    <p>Protocolo moderno de transporte</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-plug"></i> 2. WebSockets</h3>
                    <p>Conexi√≥n persistente bidireccional</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-rocket"></i> 3. gRPC</h3>
                    <p>RPC moderno de alto rendimiento</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-file-code"></i> 4. Serializaci√≥n</h3>
                    <p>JSON, Protobuf, MessagePack</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-code"></i> 5. XML</h3>
                    <p>Rol b√°sico y empresarial</p>
                </div>
            </div>
        </div>

        <!-- Slide 4a: HTTP/2 - Introducci√≥n y Multiplexaci√≥n -->
        <div class="slide">
            <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-globe"></i> HTTP/2: Multiplexaci√≥n de Streams</h2>

            <div
                style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
                <!-- Columna Izquierda: Caracter√≠sticas -->
                <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                    <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                        "La app m√≥vil del Banco de Loja carga 8 recursos simult√°neamente"
                    </div>

                    <div style="flex-shrink: 0;">
                        <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Caracter√≠sticas</h3>
                        <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                            <li><strong>Binario</strong>: M√°s eficiente</li>
                            <li><strong>Multiplexaci√≥n</strong>: Streams paralelos</li>
                            <li><strong>HPACK</strong>: Compresi√≥n headers</li>
                            <li><strong>Server push</strong>: Env√≠o proactivo</li>
                        </ul>
                    </div>

                    <div
                        style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                        <p style="font-size: 0.75rem; margin: 0;">
                            <i class="fas fa-info-circle"></i> Base para gRPC y app m√≥vil
                        </p>
                    </div>

                    <!-- Info adicional -->
                    <div
                        style="background: rgba(35, 53, 110, 0.3); padding: 10px; border-radius: 8px; border-left: 4px solid #60a5fa; flex-shrink: 0;">
                        <h4 style="font-size: 0.85rem; margin-bottom: 6px; color: #60a5fa;">
                            <i class="fas fa-info-circle"></i> ¬øQu√© es Multiplexaci√≥n?
                        </h4>
                        <p style="font-size: 0.75rem; margin: 0; line-height: 1.4;">
                            Permite enviar m√∫ltiples requests/responses simult√°neamente sobre una sola conexi√≥n TCP,
                            eliminando el bloqueo de HTTP/1.1
                        </p>
                    </div>

                    <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                        <button id="startHttp2Demo"
                            style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                            <i class="fas fa-play"></i> Iniciar Demo
                        </button>
                        <div id="http2Controls" style="margin-top: 6px; font-size: 0.75rem;">
                            <label style="color: #e2e8f0;">Requests: </label>
                            <input type="number" id="http2Requests" value="6" min="3" max="10"
                                style="width: 50px; padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.75rem;">
                        </div>
                    </div>
                </div>

                <!-- Columna Derecha: Visualizaci√≥n Comparativa -->
                <div id="http2DemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <!-- Demo Multiplexaci√≥n -->
                    <div id="demoMultiplex" class="http2-demo-content"
                        style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                        <!-- HTTP/1.1 -->
                        <div
                            style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #f87171; padding: 10px; flex: 1; display: flex; flex-direction: column; min-height: 0; max-height: 45%;">
                            <h3
                                style="text-align: center; color: #f87171; margin: 0 0 8px 0; font-size: 0.9rem; flex-shrink: 0;">
                                <i class="fas fa-times-circle"></i> HTTP/1.1 - Conexiones Secuenciales
                            </h3>
                            <div
                                style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 8px; position: relative; overflow: hidden; min-height: 0; height: 200px;">
                                <canvas id="http1Canvas" style="display: block;"></canvas>
                            </div>
                            <div id="http1Time"
                                style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #f87171; flex-shrink: 0;">
                                Tiempo: -</div>
                        </div>

                        <!-- HTTP/2 -->
                        <div
                            style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column; min-height: 0; max-height: 45%;">
                            <h3
                                style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem; flex-shrink: 0;">
                                <i class="fas fa-check-circle"></i> HTTP/2 - Multiplexaci√≥n (Streams Paralelos)
                            </h3>
                            <div
                                style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 8px; position: relative; overflow: hidden; min-height: 0; height: 200px;">
                                <canvas id="http2Canvas" style="display: block;"></canvas>
                            </div>
                            <div id="http2Time"
                                style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80; flex-shrink: 0;">
                                Tiempo: -</div>
                        </div>

                        <!-- Comparaci√≥n de mejora -->
                        <div
                            style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                            <div id="http2Improvement"
                                style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                                Comparaci√≥n de rendimiento HTTP/1.1 vs HTTP/2
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Slide 4b: HTTP/2 - Arquitectura y Flujo -->
        <div class="slide">
            <h2><i class="fas fa-sitemap"></i> HTTP/2: Arquitectura y Flujo de Comunicaci√≥n</h2>

            <div style="display: flex; flex-direction: column; height: calc(100vh - 180px); padding: 1rem;">
                <div class="mermaid"
                    style="flex: 1; background: white; border-radius: 12px; padding: 2rem; display: flex; align-items: center; justify-content: center;">
                    sequenceDiagram
                    participant Cliente as Cliente<br />(App Banco de Loja)
                    participant Conn as Conexi√≥n TCP<br />√önica
                    participant Server as Servidor HTTP/2

                    Note over Cliente,Server: Conexi√≥n TLS establecida

                    rect rgb(233, 171, 33, 0.1)
                    Note over Cliente,Server: Multiplexing - Streams Paralelos

                    par Stream 1: Saldo
                    Cliente->>+Server: GET /api/saldo<br />Stream ID: 1
                    Server-->>-Cliente: 200 OK {balance: 5000}<br />Stream ID: 1
                    and Stream 3: Transacciones
                    Cliente->>+Server: GET /api/transactions<br />Stream ID: 3
                    Server-->>-Cliente: 200 OK [...]<br />Stream ID: 3
                    and Stream 5: Perfil
                    Cliente->>+Server: GET /api/profile<br />Stream ID: 5
                    Server-->>-Cliente: 200 OK {name: "..."}<br />Stream ID: 5
                    end
                    end

                    rect rgb(100, 200, 100, 0.1)
                    Note over Server,Cliente: Server Push - Proactivo
                    Server->>Cliente: PUSH /static/logo.png<br />Stream ID: 2
                    Server->>Cliente: PUSH /static/styles.css<br />Stream ID: 4
                    end

                    rect rgb(100, 150, 255, 0.1)
                    Note over Cliente,Server: HPACK - Compresi√≥n de Headers
                    Note left of Cliente: Header Table<br />:method: GET<br />:scheme: https<br />authorization: ...
                    Note right of Server: Header Table<br />(mismo contenido)
                    Cliente->>Server: Solo √≠ndices de tabla<br />(ahorro 70-80%)
                    end
                </div>

                <div
                    style="margin-top: 1rem; padding: 1rem; background: rgba(233, 171, 33, 0.1); border-radius: 8px; border-left: 4px solid var(--uide-accent);">
                    <p style="font-size: 0.95rem; margin: 0; text-align: center;">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Una sola conexi√≥n TCP</strong> maneja m√∫ltiples streams paralelos, con compresi√≥n de
                        headers y env√≠o proactivo de recursos
                    </p>
                </div>
            </div>
        </div>

        <!-- Slide 4d: HTTP/2 - HPACK y Server Push -->
        <div class="slide">
            <h2 style="margin-bottom: 1rem;"><i class="fas fa-compress-alt"></i> HTTP/2: Optimizaciones Clave</h2>

            <div
                style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; height: calc(100vh - 180px); max-width: 100%; padding: 0;">
                <!-- HPACK -->
                <div style="display: flex; flex-direction: column; gap: 0.8rem;">
                    <div
                        style="text-align: center; padding: 0.5rem; background: rgba(233, 171, 33, 0.1); border-radius: 8px;">
                        <i class="fas fa-file-archive" style="font-size: 2rem; color: var(--uide-accent);"></i>
                        <h3 style="color: var(--uide-accent); margin: 0.3rem 0; font-size: 1.4rem;">HPACK</h3>
                        <p style="color: #94a3b8; font-size: 0.95rem; margin: 0;">Compresi√≥n de Headers</p>
                        <p class="quote" style="font-size: 0.85rem; margin: 0.5rem 0 0 0; padding: 0;">
                            "Reduce headers en 80%"
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; flex: 1;">
                        <div
                            style="background: rgba(248, 113, 113, 0.1); border: 2px solid #f87171; border-radius: 10px; padding: 1.2rem; display: flex; flex-direction: column;">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <span style="color: #f87171; font-size: 1.1rem; font-weight: 600;">
                                    <i class="fas fa-times-circle"></i> Sin HPACK
                                </span>
                            </div>
                            <div
                                style="background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 8px; text-align: center; flex: 1; display: flex; flex-direction: column; justify-content: center;">
                                <div style="margin-bottom: 1rem;">
                                    <i class="fas fa-file"
                                        style="font-size: 2rem; color: #f87171; margin: 0 0.3rem;"></i>
                                    <i class="fas fa-file"
                                        style="font-size: 2rem; color: #f87171; margin: 0 0.3rem;"></i>
                                    <i class="fas fa-file"
                                        style="font-size: 2rem; color: #f87171; margin: 0 0.3rem;"></i>
                                    <i class="fas fa-file"
                                        style="font-size: 2rem; color: #f87171; margin: 0 0.3rem;"></i>
                                    <i class="fas fa-file"
                                        style="font-size: 2rem; color: #f87171; margin: 0 0.3rem;"></i>
                                </div>
                                <div style="color: #f87171; font-weight: 700; font-size: 1.8rem;">850 bytes</div>
                                <div style="color: #94a3b8; font-size: 0.9rem; margin-top: 0.8rem;">Headers completos
                                    repetidos</div>
                            </div>
                        </div>

                        <div
                            style="background: rgba(74, 222, 128, 0.1); border: 2px solid #4ade80; border-radius: 10px; padding: 1.2rem; display: flex; flex-direction: column;">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <span style="color: #4ade80; font-size: 1.1rem; font-weight: 600;">
                                    <i class="fas fa-check-circle"></i> Con HPACK
                                </span>
                            </div>
                            <div
                                style="background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 8px; text-align: center; flex: 1; display: flex; flex-direction: column; justify-content: center;">
                                <div style="margin-bottom: 1rem;">
                                    <i class="fas fa-file" style="font-size: 2rem; color: #4ade80;"></i>
                                </div>
                                <div style="color: #4ade80; font-weight: 700; font-size: 1.8rem;">150 bytes</div>
                                <div style="color: #94a3b8; font-size: 0.9rem; margin-top: 0.8rem;">Solo √≠ndices de
                                    tabla</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Server Push -->
                <div style="display: flex; flex-direction: column; gap: 0.8rem;">
                    <div
                        style="text-align: center; padding: 0.5rem; background: rgba(233, 171, 33, 0.1); border-radius: 8px;">
                        <i class="fas fa-rocket" style="font-size: 2rem; color: var(--uide-accent);"></i>
                        <h3 style="color: var(--uide-accent); margin: 0.3rem 0; font-size: 1.4rem;">Server Push</h3>
                        <p style="color: #94a3b8; font-size: 0.95rem; margin: 0;">Env√≠o Anticipado</p>
                        <p class="quote" style="font-size: 0.85rem; margin: 0.5rem 0 0 0; padding: 0;">
                            "El servidor env√≠a sin esperar"
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; flex: 1;">
                        <div
                            style="background: rgba(248, 113, 113, 0.1); border: 2px solid #f87171; border-radius: 10px; padding: 1.2rem; display: flex; flex-direction: column;">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <span style="color: #f87171; font-size: 1.1rem; font-weight: 600;">
                                    <i class="fas fa-times-circle"></i> Tradicional
                                </span>
                            </div>
                            <div
                                style="background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 8px; flex: 1; display: flex; flex-direction: column; justify-content: center;">
                                <div style="font-size: 1.4rem; text-align: center; line-height: 2; color: #e2e8f0;">
                                    <i class="fas fa-mobile-alt"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-server"></i><br>
                                    <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-mobile-alt"></i> <span style="font-size: 0.9rem;">HTML</span><br>
                                    <i class="fas fa-mobile-alt"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-server"></i> <span style="font-size: 0.9rem;">(CSS)</span><br>
                                    <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-mobile-alt"></i> <span style="font-size: 0.9rem;">CSS</span><br>
                                    <i class="fas fa-mobile-alt"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-server"></i> <span style="font-size: 0.9rem;">(JS)</span><br>
                                    <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-mobile-alt"></i> <span style="font-size: 0.9rem;">JS</span>
                                </div>
                                <div
                                    style="color: #f87171; font-weight: 700; text-align: center; margin-top: 1rem; font-size: 1.2rem;">
                                    <i class="fas fa-clock"></i> 6 viajes
                                </div>
                            </div>
                        </div>

                        <div
                            style="background: rgba(74, 222, 128, 0.1); border: 2px solid #4ade80; border-radius: 10px; padding: 1.2rem; display: flex; flex-direction: column;">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <span style="color: #4ade80; font-size: 1.1rem; font-weight: 600;">
                                    <i class="fas fa-check-circle"></i> Con Server Push
                                </span>
                            </div>
                            <div
                                style="background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 8px; flex: 1; display: flex; flex-direction: column; justify-content: center;">
                                <div style="font-size: 1.4rem; text-align: center; line-height: 2; color: #e2e8f0;">
                                    <i class="fas fa-mobile-alt"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-server"></i><br>
                                    <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i
                                        class="fas fa-mobile-alt"></i> <span style="font-size: 0.9rem;">HTML + CSS +
                                        JS</span>
                                </div>
                                <div
                                    style="color: #4ade80; font-weight: 700; text-align: center; margin-top: 1rem; font-size: 1.2rem;">
                                    <i class="fas fa-clock"></i> 2 viajes
                                </div>
                                <div style="color: #4ade80; text-align: center; margin-top: 0.5rem; font-size: 1rem;">
                                    (3x m√°s r√°pido)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div
                style="text-align: center; padding: 1rem; background: rgba(233, 171, 33, 0.15); border-radius: 10px; border: 2px solid var(--uide-accent);">
                <p style="font-size: 1.1rem; margin: 0; color: #ffffff; font-weight: 600;">
                    <i class="fas fa-lightbulb" style="color: var(--uide-accent);"></i>
                    <strong>Resultado:</strong> Menos datos + menos viajes = App del Banco de Loja m√°s r√°pida
                </p>
            </div>
        </div>

        <!-- Slide 4e: HTTP/2 - Implementaci√≥n -->
        <div class="slide">
            <h2><i class="fas fa-code"></i> HTTP/2: Implementaci√≥n en Node.js</h2>

            <div class="code-tabs-container">
                <div class="code-tabs-header">
                    <button class="code-tab-btn active" data-tab="http2-server">
                        <i class="fas fa-server"></i> Servidor
                    </button>
                    <button class="code-tab-btn" data-tab="http2-client">
                        <i class="fas fa-desktop"></i> Cliente
                    </button>
                    <button class="code-tab-btn" data-tab="http2-push">
                        <i class="fas fa-rocket"></i> Server Push
                    </button>
                </div>

                <!-- Tab Servidor HTTP/2 -->
                <div class="code-tab-content active" data-tab="http2-server">""
                    <div class="code-container" style="margin: 0; border: none; border-radius: 0;">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-server"></i> servidor-http2.js
                            </div>
                            <span class="code-language">Node.js ES2025</span>
                        </div>
                        <div class="code-content" style="max-height: 450px;">
                            <pre class="line-numbers"><code class="language-javascript">// Servidor HTTP/2 del Banco de Loja - ES2025
import http2 from 'http2';
import fs from 'fs/promises';
import { createReadStream } from 'fs';
import path from 'path';

class ServidorHTTP2 {
  #server = null;
  #config = {
    port: 8443,
    keyPath: './certs/server.key',
    certPath: './certs/server.crt'
  };

  constructor(config = {}) {
    this.#config = { ...this.#config, ...config };
  }

  async iniciar() {
    // Leer certificados SSL para HTTP/2
    const [key, cert] = await Promise.all([
      fs.readFile(this.#config.keyPath),
      fs.readFile(this.#config.certPath)
    ]);

    // Crear servidor HTTP/2 seguro
    this.#server = http2.createSecureServer({
      key,
      cert,
      allowHTTP1: false // Solo HTTP/2
    });

    this.#server.on('stream', this.#handleStream.bind(this));
    this.#server.on('error', this.#handleError.bind(this));

    return new Promise((resolve) => {
      this.#server.listen(this.#config.port, () => {
        console.log(`Servidor HTTP/2 en puerto ${this.#config.port}`);
        resolve();
      });
    });
  }

  #handleStream(stream, headers) {
    const path = headers[':path'];
    const method = headers[':method'];

    console.log(`${method} ${path}`);

    // Enrutamiento simple
    const routes = {
      '/': () => this.#servirHTML(stream),
      '/api/cuenta': () => this.#servirJSON(stream),
      '/api/transferencias': () => this.#servirTransferencias(stream)
    };

    const handler = routes[path] ?? (() => this.#error404(stream));
    handler();
  }

  async #servirHTML(stream) {
    stream.respond({
      ':status': 200,
      'content-type': 'text/html; charset=utf-8'
    });

    stream.end(\`
      &lt;!DOCTYPE html&gt;
      &lt;html&gt;
        &lt;head&gt;
          &lt;title&gt;Banco de Loja - HTTP/2&lt;/title&gt;
          &lt;link rel="stylesheet" href="/css/styles.css"&gt;
          &lt;script src="/js/app.js"&gt;&lt;/script&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Bienvenido al Banco de Loja&lt;/h1&gt;
          &lt;p&gt;Conexi√≥n segura HTTP/2&lt;/p&gt;
        &lt;/body&gt;
      &lt;/html&gt;
    \`);
  }

  #servirJSON(stream) {
    stream.respond({
      ':status': 200,
      'content-type': 'application/json'
    });

    stream.end(JSON.stringify({
      cuenta: 'CTA-00123456',
      titular: 'Juan P√©rez',
      saldo: 5000.00,
      tipo: 'Ahorros'
    }));
  }

  async #servirTransferencias(stream) {
    // Simulaci√≥n de consulta a base de datos
    const transferencias = [
      { id: 1, monto: 500, fecha: '2025-01-10', tipo: 'DEBITO' },
      { id: 2, monto: 1500, fecha: '2025-01-09', tipo: 'CREDITO' }
    ];

    stream.respond({
      ':status': 200,
      'content-type': 'application/json'
    });

    stream.end(JSON.stringify(transferencias));
  }

  #error404(stream) {
    stream.respond({ ':status': 404 });
    stream.end('No encontrado');
  }

  #handleError(error) {
    console.error('Error en servidor:', error);
  }

  async detener() {
    return new Promise((resolve) => {
      this.#server?.close(() => {
        console.log('Servidor HTTP/2 detenido');
        resolve();
      });
    });
  }
}

// Uso
const servidor = new ServidorHTTP2();
await servidor.iniciar();</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Tab Cliente HTTP/2 -->
                <div class="code-tab-content" data-tab="http2-client">
                    <div class="code-container" style="margin: 0; border: none; border-radius: 0;">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-desktop"></i> cliente-http2.js
                            </div>
                            <span class="code-language">Node.js ES2025</span>
                        </div>
                        <div class="code-content" style="max-height: 450px;">
                            <pre class="line-numbers"><code class="language-javascript">// Cliente HTTP/2 del Banco de Loja - ES2025
import http2 from 'http2';

class ClienteHTTP2 {
  #client = null;
  #config = {
    serverUrl: 'https://localhost:8443'
  };

  constructor(config = {}) {
    this.#config = { ...this.#config, ...config };
  }

  conectar() {
    this.#client = http2.connect(this.#config.serverUrl, {
      rejectUnauthorized: false // Solo para desarrollo
    });

    this.#client.on('error', (error) => {
      console.error('Error de conexi√≥n:', error);
    });
  }

  // Realizar m√∫ltiples requests simult√°neos (Multiplexaci√≥n)
  async requestsMultiples(rutas) {
    console.log('Iniciando requests m√∫ltiples en paralelo...');

    const promises = rutas.map((ruta) => this.#request(ruta));

    const inicio = Date.now();
    const resultados = await Promise.all(promises);
    const duracion = Date.now() - inicio;

    console.log(`Completados ${rutas.length} requests en ${duracion}ms`);

    return resultados;
  }

  #request(path) {
    return new Promise((resolve, reject) => {
      const req = this.#client.request({
        ':path': path,
        ':method': 'GET'
      });

      let data = '';

      req.on('response', (headers) => {
        console.log(`Respuesta de ${path}: ${headers[':status']}`);
      });

      req.on('data', (chunk) => {
        data += chunk;
      });

      req.on('end', () => {
        resolve({
          path,
          data: data.toString()
        });
      });

      req.on('error', reject);
      req.end();
    });
  }

  desconectar() {
    this.#client?.close();
  }
}

// Uso: Multiplexaci√≥n HTTP/2
const cliente = new ClienteHTTP2();
cliente.conectar();

// Realizar 6 requests simult√°neos (Multiplexaci√≥n)
const rutas = [
  '/api/cuenta',
  '/api/transferencias',
  '/api/movimientos',
  '/api/saldo',
  '/api/beneficiarios',
  '/api/notificaciones'
];

const resultados = await cliente.requestsMultiples(rutas);
console.log('Resultados:', resultados);

cliente.desconectar();</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Tab Server Push -->
                <div class="code-tab-content" data-tab="http2-push">
                    <div class="code-container" style="margin: 0; border: none; border-radius: 0;">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-rocket"></i> server-push.js
                            </div>
                            <span class="code-language">Node.js ES2025</span>
                        </div>
                        <div class="code-content" style="max-height: 450px;">
                            <pre class="line-numbers"><code class="language-javascript">// Server Push HTTP/2 - ES2025
import http2 from 'http2';
import fs from 'fs/promises';

class ServidorConPush {
  #server = null;

  async iniciar() {
    const [key, cert] = await Promise.all([
      fs.readFile('./certs/server.key'),
      fs.readFile('./certs/server.crt')
    ]);

    this.#server = http2.createSecureServer({ key, cert });

    this.#server.on('stream', (stream, headers) => {
      const path = headers[':path'];

      if (path === '/') {
        this.#servirConPush(stream);
      }
    });

    this.#server.listen(8443);
  }

  #servirConPush(stream) {
    // Server Push: Enviar recursos antes de que el cliente los pida

    // 1. Push de CSS
    stream.pushStream({
      ':path': '/css/styles.css'
    }, (err, pushStream) => {
      if (err) return;

      pushStream.respond({
        ':status': 200,
        'content-type': 'text/css'
      });

      pushStream.end(`
        body {
          font-family: Arial, sans-serif;
          background: #0f1419;
          color: white;
        }
      `);
    });

    // 2. Push de JavaScript
    stream.pushStream({
      ':path': '/js/app.js'
    }, (err, pushStream) => {
      if (err) return;

      pushStream.respond({
        ':status': 200,
        'content-type': 'application/javascript'
      });

      pushStream.end(`
        console.log('App cargada desde Server Push');

        // Inicializar app del Banco de Loja
        document.addEventListener('DOMContentLoaded', () => {
          console.log('DOM Ready - HTTP/2 Server Push activo');
        });
      `);
    });

    // 3. Push de datos JSON
    stream.pushStream({
      ':path': '/api/cuenta'
    }, (err, pushStream) => {
      if (err) return;

      pushStream.respond({
        ':status': 200,
        'content-type': 'application/json'
      });

      pushStream.end(JSON.stringify({
        cuenta: 'CTA-00123456',
        saldo: 5000.00,
        nombre: 'Juan P√©rez'
      }));
    });

    // Enviar HTML principal
    stream.respond({
      ':status': 200,
      'content-type': 'text/html'
    });

    stream.end(\`
      &lt;!DOCTYPE html&gt;
      &lt;html&gt;
        &lt;head&gt;
          &lt;title&gt;Banco de Loja&lt;/title&gt;
          &lt;link rel="stylesheet" href="/css/styles.css"&gt;
          &lt;script src="/js/app.js"&gt;&lt;/script&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Server Push Activo&lt;/h1&gt;
          &lt;p&gt;Los recursos fueron enviados proactivamente&lt;/p&gt;
        &lt;/body&gt;
      &lt;/html&gt;
    \`);

    console.log('HTML enviado con 3 recursos en Server Push');
  }
}

// Uso
const servidor = new ServidorConPush();
await servidor.iniciar();
console.log('Servidor con Server Push en puerto 8443');</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div
                style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; margin-top: 8px;">
                <p style="color: var(--uide-accent); font-size: 0.8rem; margin: 0;">
                    <i class="fas fa-bolt"></i>
                    <strong>HTTP/2</strong> permite multiplexaci√≥n (m√∫ltiples streams en una conexi√≥n),
                    compresi√≥n HPACK de headers y Server Push proactivo de recursos.
                </p>
            </div>
        </div>
    </div>

    <!-- Slide 5a: WebSockets - Comparaci√≥n Visual -->
    <div class="slide">
        <h2 style="margin-bottom: 1.5rem;"><i class="fas fa-plug"></i> WebSockets: Comparaci√≥n de Comunicaci√≥n</h2>

        <div style="height: calc(100vh - 200px); display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; padding: 0 2rem;">
            <!-- Columna Izquierda: HTTP Polling -->
            <div style="display: flex; flex-direction: column; height: 100%; justify-content: center;">
                <div style="text-align: center; padding: 1rem; background: rgba(248, 113, 113, 0.1); border-radius: 10px; border: 2px solid #f87171; margin-bottom: 2rem;">
                    <i class="fas fa-sync-alt" style="font-size: 2.5rem; color: #f87171;"></i>
                    <h3 style="color: #f87171; margin: 0.8rem 0 0.3rem 0; font-size: 1.6rem;">HTTP Polling</h3>
                    <p style="color: #94a3b8; font-size: 1rem; margin: 0;">Conexiones Repetidas</p>
                </div>

                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 12px; padding: 3rem; display: flex; align-items: center; justify-content: center;">
                    <div style="font-size: 1.6rem; text-align: center; line-height: 3.5; color: #e2e8f0;">
                        <i class="fas fa-mobile-alt"></i> <i class="fas fa-arrow-right"></i> <i class="fas fa-server"></i><br>
                        <span style="font-size: 1.1rem; color: #94a3b8;">¬øHay notificaciones?</span><br>
                        <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i class="fas fa-mobile-alt"></i><br>
                        <span style="font-size: 1.1rem; color: #94a3b8;">No</span><br>
                        <span style="font-size: 1.1rem; color: #94a3b8;">...</span><br>
                        <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i class="fas fa-mobile-alt"></i><br>
                        <span style="font-size: 1.1rem; color: #4ade80;">S√≠: Dep√≥sito $150</span>
                    </div>
                </div>
            </div>

            <!-- Columna Derecha: WebSocket -->
            <div style="display: flex; flex-direction: column; height: 100%; justify-content: center;">
                <div style="text-align: center; padding: 1rem; background: rgba(74, 222, 128, 0.1); border-radius: 10px; border: 2px solid #4ade80; margin-bottom: 2rem;">
                    <i class="fas fa-plug" style="font-size: 2.5rem; color: #4ade80;"></i>
                    <h3 style="color: #4ade80; margin: 0.8rem 0 0.3rem 0; font-size: 1.6rem;">WebSocket</h3>
                    <p style="color: #94a3b8; font-size: 1rem; margin: 0;">Conexi√≥n Persistente</p>
                </div>

                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 12px; padding: 3rem; display: flex; align-items: center; justify-content: center;">
                    <div style="font-size: 1.6rem; text-align: center; line-height: 3.5; color: #e2e8f0;">
                        <i class="fas fa-mobile-alt"></i> <i class="fas fa-arrows-alt-h" style="color: #4ade80;"></i> <i class="fas fa-server"></i><br>
                        <span style="font-size: 1.1rem; color: #4ade80;">Conexi√≥n abierta</span><br>
                        <span style="font-size: 1.1rem; color: #94a3b8;">... esperando ...</span><br>
                        <i class="fas fa-server"></i> <i class="fas fa-arrow-right" style="color: #4ade80;"></i> <i class="fas fa-mobile-alt"></i><br>
                        <span style="font-size: 1.1rem; color: #4ade80;">¬°Dep√≥sito $150!</span><br>
                        <span style="font-size: 1.1rem; color: #94a3b8;">... esperando ...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 5a-bis: WebSockets - Ventajas y Desventajas -->
    <div class="slide">
        <h2 style="margin-bottom: 2rem;"><i class="fas fa-balance-scale"></i> WebSockets vs HTTP Polling</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; padding: 2rem; height: calc(100vh - 220px);">
            <!-- HTTP Polling - Desventajas -->
            <div style="display: flex; flex-direction: column; justify-content: center;">
                <div style="text-align: center; margin-bottom: 2rem;">
                    <i class="fas fa-sync-alt" style="font-size: 3rem; color: #f87171;"></i>
                    <h3 style="color: #f87171; margin: 1rem 0; font-size: 1.8rem;">HTTP Polling</h3>
                </div>
                
                <div style="background: rgba(248, 113, 113, 0.1); padding: 2rem; border-radius: 12px; border: 2px solid #f87171;">
                    <div style="color: #f87171; font-weight: 700; font-size: 1.5rem; margin-bottom: 1.5rem; text-align: center;">
                        <i class="fas fa-times-circle"></i> Desventajas
                    </div>
                    <ul style="font-size: 1.2rem; color: #e2e8f0; margin: 0; padding-left: 2rem; line-height: 2.5;">
                        <li>M√∫ltiples conexiones</li>
                        <li>Latencia alta (1-5s)</li>
                        <li>Desperdicio de recursos</li>
                    </ul>
                </div>
            </div>

            <!-- WebSocket - Ventajas -->
            <div style="display: flex; flex-direction: column; justify-content: center;">
                <div style="text-align: center; margin-bottom: 2rem;">
                    <i class="fas fa-plug" style="font-size: 3rem; color: #4ade80;"></i>
                    <h3 style="color: #4ade80; margin: 1rem 0; font-size: 1.8rem;">WebSocket</h3>
                </div>
                
                <div style="background: rgba(74, 222, 128, 0.1); padding: 2rem; border-radius: 12px; border: 2px solid #4ade80;">
                    <div style="color: #4ade80; font-weight: 700; font-size: 1.5rem; margin-bottom: 1.5rem; text-align: center;">
                        <i class="fas fa-check-circle"></i> Ventajas
                    </div>
                    <ul style="font-size: 1.2rem; color: #e2e8f0; margin: 0; padding-left: 2rem; line-height: 2.5;">
                        <li>Una sola conexi√≥n</li>
                        <li>Latencia m√≠nima (5-20ms)</li>
                        <li>Bidireccional (full-duplex)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 5b: WebSockets - Diagrama de Flujo -->
    <div class="slide">
        <h2 style="margin-bottom: 1rem;"><i class="fas fa-exchange-alt"></i> WebSockets: Flujo de Comunicaci√≥n</h2>

        <div style="display: flex; flex-direction: column; height: calc(100vh - 200px); padding: 0 1rem;">
            <div class="mermaid"
                style="flex: 1; background: white; border-radius: 12px; padding: 1.5rem; display: flex; align-items: center; justify-content: center; overflow: hidden; transform: scale(0.75); transform-origin: center;">
                sequenceDiagram
                participant Cliente as Cliente Web<br />(Banco de Loja)
                participant Server as Servidor WebSocket

                Note over Cliente,Server: 1. Handshake HTTP Upgrade

                Cliente->>Server: GET /ws HTTP/1.1<br />Upgrade: websocket<br />Connection: Upgrade<br />Sec-WebSocket-Key: xxx
                Server-->>Cliente: HTTP/1.1 101 Switching Protocols<br />Upgrade: websocket<br />Connection: Upgrade

                rect rgb(100, 200, 100, 0.1)
                Note over Cliente,Server: 2. Conexi√≥n WebSocket Establecida (Full-Duplex)

                Cliente->>Server: {type: "auth", token: "JWT..."}
                Server-->>Cliente: {type: "auth_ok", userId: "12345"}

                par Cliente env√≠a mensaje
                Cliente->>Server: {type: "subscribe", cuenta: "2100456789"}
                and Servidor env√≠a notificaci√≥n
                Server->>Cliente: {type: "balance", monto: 5000}
                end

                Note over Server: Nueva transferencia detectada

                Server->>Cliente: {type: "notification",<br />msg: "Dep√≥sito $150"}

                Cliente->>Server: {type: "ack", id: "notif-1"}

                Server->>Cliente: {type: "notification",<br />msg: "Retiro $50"}

                Cliente->>Server: {type: "get_transactions"}
                Server-->>Cliente: {type: "transactions",<br />data: [...]}
                end

                rect rgb(255, 200, 100, 0.1)
                Note over Cliente,Server: 3. Cierre de Conexi√≥n

                Cliente->>Server: Close Frame (Code: 1000)
                Server-->>Cliente: Close Frame (Code: 1000)
                end

                Note over Cliente,Server: Ventajas vs HTTP Polling:<br />- Latencia: 5-20ms vs 150-250ms<br />- Sin overhead de headers repetidos<br />- Eventos instant√°neos del servidor
            </div>

            <div style="margin-top: 0.8rem; padding: 0.8rem; background: rgba(233, 171, 33, 0.1); border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                <p style="font-size: 0.9rem; margin: 0; text-align: center;">
                    <i class="fas fa-lightbulb"></i>
                    <strong>Handshake HTTP ‚Üí Upgrade a WebSocket ‚Üí Comunicaci√≥n bidireccional persistente</strong>
                </p>
            </div>
        </div>
    </div>

    <!-- Slide 5c: WebSockets - Arquitectura de Casos de Uso -->
    <div class="slide">
        <h2><i class="fas fa-project-diagram"></i> WebSockets: Arquitectura en Banco de Loja</h2>
        
        <div style="display: flex; flex-direction: column; height: calc(100vh - 180px); padding: 1rem;">
            <div class="mermaid" style="flex: 1; background: white; border-radius: 12px; padding: 2rem; display: flex; align-items: center; justify-content: center;">
                graph TB
                    subgraph Clientes["üë• Clientes"]
                        AppMovil["üì± App M√≥vil<br/>iOS/Android"]
                        WebApp["üíª Web App<br/>React/Vue"]
                        Tablet["üì≤ Tablet<br/>Ejecutivos"]
                    end

                    subgraph WSServer["üîå Servidor WebSocket"]
                        WSGateway["WebSocket Gateway<br/>Node.js + ws"]
                        Auth["üîê Autenticaci√≥n<br/>JWT"]
                        Router["üì° Message Router"]
                    end

                    subgraph Servicios["‚öôÔ∏è Servicios Backend"]
                        NotifService["üîî Servicio Notificaciones"]
                        TransService["üí∏ Servicio Transacciones"]
                        ChatService["üí¨ Servicio Chat"]
                        AlertService["‚ö†Ô∏è Servicio Alertas"]
                    end

                    subgraph Database["üíæ Base de Datos"]
                        Redis["Redis<br/>Sesiones activas"]
                        MongoDB["MongoDB<br/>Historial mensajes"]
                        PostgreSQL["PostgreSQL<br/>Transacciones"]
                    end

                    AppMovil -.->|"WS: wss://banco.com/ws"| WSGateway
                    WebApp -.->|"WS: wss://banco.com/ws"| WSGateway
                    Tablet -.->|"WS: wss://banco.com/ws"| WSGateway

                    WSGateway --> Auth
                    Auth --> Router

                    Router <-->|"Pub/Sub"| NotifService
                    Router <-->|"Pub/Sub"| TransService
                    Router <-->|"Pub/Sub"| ChatService
                    Router <-->|"Pub/Sub"| AlertService

                    NotifService --> Redis
                    TransService --> PostgreSQL
                    ChatService --> MongoDB
                    AlertService --> Redis

                    style Clientes fill:#e0f2fe,stroke:#0284c7,stroke-width:2px
                    style WSServer fill:#dcfce7,stroke:#16a34a,stroke-width:2px
                    style Servicios fill:#fef3c7,stroke:#f59e0b,stroke-width:2px
                    style Database fill:#fce7f3,stroke:#ec4899,stroke-width:2px

                    style WSGateway fill:#4ade80,stroke:#16a34a,stroke-width:3px
                    style Auth fill:#fbbf24,stroke:#f59e0b,stroke-width:2px
                    style Router fill:#60a5fa,stroke:#0284c7,stroke-width:2px
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                <div style="padding: 0.8rem; background: rgba(74, 222, 128, 0.1); border-radius: 8px; border-left: 4px solid #4ade80; text-align: center;">
                    <p style="font-size: 0.9rem; margin: 0; color: #e2e8f0;">
                        <i class="fas fa-bell" style="color: #4ade80;"></i>
                        <strong>Notificaciones:</strong> Transferencias, pagos, alertas
                    </p>
                </div>
                <div style="padding: 0.8rem; background: rgba(96, 165, 250, 0.1); border-radius: 8px; border-left: 4px solid #60a5fa; text-align: center;">
                    <p style="font-size: 0.9rem; margin: 0; color: #e2e8f0;">
                        <i class="fas fa-comments" style="color: #60a5fa;"></i>
                        <strong>Chat:</strong> Soporte en vivo, asesor√≠a
                    </p>
                </div>
                <div style="padding: 0.8rem; background: rgba(251, 191, 36, 0.1); border-radius: 8px; border-left: 4px solid #fbbf24; text-align: center;">
                    <p style="font-size: 0.9rem; margin: 0; color: #e2e8f0;">
                        <i class="fas fa-chart-line" style="color: #fbbf24;"></i>
                        <strong>Datos Live:</strong> Saldos, tasas, cotizaciones
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 6: gRPC Intro -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-rocket"></i> gRPC: Remote Procedure Call Moderno
        </h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Comunicaci√≥n entre microsservicios del Banco de Loja"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Ventajas</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Protobuf</strong>: Binario compacto</li>
                        <li><strong>HTTP/2</strong>: Multiplexaci√≥n</li>
                        <li><strong>Baja latencia</strong>: Microsservicios</li>
                        <li><strong>Streaming</strong>: Bidireccional</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> Microsservicios internos del banco
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="grpc-tab active" data-demo="rpc"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        RPC Flow
                    </button>
                    <button class="grpc-tab" data-demo="payload"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        JSON vs Protobuf
                    </button>
                    <button class="grpc-tab" data-demo="grpc-diagrama"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Diagrama
                    </button>
                    <button class="grpc-tab" data-demo="grpc-codigo"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        C√≥digo
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startGrpcDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="grpcDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo RPC Flow -->
                <div id="demoRpc" class="grpc-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-rocket"></i> gRPC Remote Procedure Call
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow: hidden; height: 450px;">
                            <canvas id="rpcCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="rpcInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Tiempo: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="rpcResult" style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver el flujo RPC
                        </div>
                    </div>
                </div>

                <!-- Demo Payload Comparison -->
                <div id="demoPayload" class="grpc-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; flex: 1; display: flex; flex-direction: column; max-height: 48%;">
                        <h3 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-file-code"></i> JSON (Texto)
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 200px;">
                            <canvas id="jsonCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="jsonSize"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #60a5fa;">
                            Tama√±o: -</div>
                    </div>

                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column; max-height: 48%;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-file-binary"></i> Protobuf (Binario)
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 200px;">
                            <canvas id="protobufCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="protobufSize"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Tama√±o: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="payloadResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para comparar tama√±os
                        </div>
                    </div>
                </div>

                <!-- Demo Diagrama gRPC -->
                <div id="demoGrpc-diagrama" class="grpc-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%; overflow-y: auto;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; padding: 16px; flex: 1; display: flex; flex-direction: column;">
                        <h3
                            style="text-align: center; color: var(--uide-accent); margin: 0 0 12px 0; font-size: 0.9rem;">
                            <i class="fas fa-project-diagram"></i> Arquitectura gRPC - Tipos de Streaming
                        </h3>
                        <div class="mermaid"
                            style="background: white; border-radius: 8px; padding: 16px; flex: 1; display: flex; align-items: center; justify-content: center;">
                            graph TB
                            subgraph "Cliente Banco de Loja"
                            C1[Cliente gRPC]
                            end

                            subgraph "Servidor gRPC sobre HTTP/2"
                            S1[Servicio Transferencias]
                            S2[Servicio Consultas]
                            S3[Servicio Notificaciones]
                            end

                            subgraph "1. Unary RPC - Request/Response Simple"
                            C1 -->|"TransferirFondos(req)"| S1
                            S1 -->|"TransferResponse"| C1
                            style S1 fill:#4ade80
                            end

                            subgraph "2. Server Streaming - M√∫ltiples Respuestas"
                            C1 -->|"ObtenerHistorial(req)"| S2
                            S2 -->|"Stream: Transacci√≥n 1"| C1
                            S2 -->|"Stream: Transacci√≥n 2"| C1
                            S2 -->|"Stream: Transacci√≥n N"| C1
                            style S2 fill:#60a5fa
                            end

                            subgraph "3. Bidirectional Streaming - Comunicaci√≥n Continua"
                            C1 <-->|"MonitorearCuenta()"| S3
                                S3 -->|"Evento: Dep√≥sito"| C1
                                S3 -->|"Evento: Retiro"| C1
                                C1 -->|"ACK confirmaci√≥n"| S3
                                style S3 fill:#f59e0b
                                end

                                subgraph "Protocol Buffers - Serializaci√≥n"
                                PB[.proto Schema]
                                PB -->|Genera| GEN1[C√≥digo Cliente]
                                PB -->|Genera| GEN2[C√≥digo Servidor]
                                end

                                S1 -.->|Usa| PB
                                S2 -.->|Usa| PB
                                S3 -.->|Usa| PB

                                style C1 fill:#e9ab21,stroke:#333,stroke-width:3px
                                style PB fill:#94a3b8,stroke:#333,stroke-width:2px
                        </div>
                    </div>
                </div>

                <!-- Demo C√≥digo gRPC -->
                <div id="demoGrpc-codigo" class="grpc-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%; overflow-y: auto;">

                    <!-- Tabs de c√≥digo -->
                    <div class="code-tabs-container" style="margin: 0;">
                        <div class="code-tabs-header">
                            <button class="code-tab-btn active" data-tab="grpc-proto">
                                <i class="fas fa-file-contract"></i> .proto
                            </button>
                            <button class="code-tab-btn" data-tab="grpc-server">
                                <i class="fas fa-server"></i> Servidor
                            </button>
                            <button class="code-tab-btn" data-tab="grpc-client">
                                <i class="fas fa-desktop"></i> Cliente
                            </button>
                        </div>

                        <!-- Tab .proto Definition -->
                        <div class="code-tab-content active" data-tab="grpc-proto">
                            <div class="code-container" style="margin: 0; border: none; border-radius: 0;">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fas fa-file-contract"></i> banco.proto
                                    </div>
                                    <span class="code-language">Protocol Buffers</span>
                                </div>
                                <div class="code-content" style="max-height: 450px;">
                                    <pre class="line-numbers"><code class="language-protobuf">syntax = "proto3";

package banco.loja;

// Servicio de Transferencias del Banco de Loja
service TransferenciaService {
  // RPC unario: Una solicitud, una respuesta
  rpc TransferirFondos(TransferenciaRequest) returns (TransferenciaResponse);

  // RPC streaming del servidor: Una solicitud, m√∫ltiples respuestas
  rpc ConsultarMovimientos(ConsultaRequest) returns (stream Movimiento);

  // RPC streaming bidireccional: Cliente y servidor env√≠an streams
  rpc MonitorearTransacciones(stream MonitorRequest) returns (stream MonitorResponse);
}

// Mensaje de solicitud de transferencia
message TransferenciaRequest {
  string cuenta_origen = 1;
  string cuenta_destino = 2;
  double monto = 3;
  string concepto = 4;
  string referencia = 5;
}

// Mensaje de respuesta de transferencia
message TransferenciaResponse {
  bool exitoso = 1;
  string transaccion_id = 2;
  double saldo_disponible = 3;
  string mensaje = 4;
  int64 timestamp = 5;
}

// Mensaje de consulta de movimientos
message ConsultaRequest {
  string cuenta = 1;
  int64 fecha_inicio = 2;
  int64 fecha_fin = 3;
}

// Mensaje de movimiento individual
message Movimiento {
  string id = 1;
  string tipo = 2;  // "CREDITO" o "DEBITO"
  double monto = 3;
  string concepto = 4;
  int64 fecha = 5;
}

// Mensajes para monitoring en tiempo real
message MonitorRequest {
  string cuenta = 1;
}

message MonitorResponse {
  string evento = 1;
  string detalle = 2;
  int64 timestamp = 3;
}</code></pre>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Servidor gRPC -->
                        <div class="code-tab-content" data-tab="grpc-server">
                            <div class="code-container" style="margin: 0; border: none; border-radius: 0;">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fas fa-server"></i> servidor-grpc.js
                                    </div>
                                    <span class="code-language">Node.js</span>
                                </div>
                                <div class="code-content" style="max-height: 450px;">
                                    <pre class="line-numbers"><code class="language-javascript">// Servidor gRPC del Banco de Loja 
import grpc from '@grpc/grpc-js';
import protoLoader from '@grpc/proto-loader';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

class ServidorGRPC {
  #server = null;
  #proto = null;
  #config = {
    port: '0.0.0.0:50051',
    protoPath: join(__dirname, 'banco.proto')
  };

  constructor(config = {}) {
    this.#config = { ...this.#config, ...config };
    this.#cargarProto();
  }

  #cargarProto() {
    const packageDefinition = protoLoader.loadSync(this.#config.protoPath, {
      keepCase: true,
      longs: String,
      enums: String,
      defaults: true,
      oneofs: true
    });

    this.#proto = grpc.loadPackageDefinition(packageDefinition).banco.loja;
  }

  // 1. RPC Unario: TransferirFondos
  async #transferirFondos(call, callback) {
    const { cuenta_origen, cuenta_destino, monto, concepto } = call.request;

    console.log(`Transferencia: $${monto} de ${cuenta_origen} a ${cuenta_destino}`);

    try {
      // Simular validaci√≥n y procesamiento as√≠ncrono
      await new Promise(resolve => setTimeout(resolve, 100));

      const saldoDisponible = 5000.00;

      if (monto > saldoDisponible) {
        callback({
          code: grpc.status.FAILED_PRECONDITION,
          message: 'Saldo insuficiente'
        });
        return;
      }

      // Transferencia exitosa
      const response = {
        exitoso: true,
        transaccion_id: `TRX-${Date.now()}`,
        saldo_disponible: saldoDisponible - monto,
        mensaje: 'Transferencia procesada exitosamente',
        timestamp: Date.now()
      };

      callback(null, response);
    } catch (error) {
      callback({
        code: grpc.status.INTERNAL,
        message: error.message
      });
    }
  }

  // 2. RPC Streaming del Servidor: ConsultarMovimientos
  #consultarMovimientos(call) {
    const { cuenta, fecha_inicio, fecha_fin } = call.request;

    console.log(`Consultando movimientos de ${cuenta}`);

    const movimientos = [
      { id: 'MOV-001', tipo: 'CREDITO', monto: 1500.00, concepto: 'Dep√≥sito', fecha: Date.now() - 86400000 },
      { id: 'MOV-002', tipo: 'DEBITO', monto: 500.00, concepto: 'Retiro ATM', fecha: Date.now() - 43200000 },
      { id: 'MOV-003', tipo: 'CREDITO', monto: 2000.00, concepto: 'Transferencia recibida', fecha: Date.now() - 7200000 },
      { id: 'MOV-004', tipo: 'DEBITO', monto: 300.00, concepto: 'Pago servicios', fecha: Date.now() - 3600000 }
    ];

    // Enviar cada movimiento como stream
    movimientos.forEach((mov, index) => {
      setTimeout(() => {
        call.write(mov);
        if (index === movimientos.length - 1) {
          call.end();
        }
      }, index * 200);
    });
  }

  // 3. RPC Streaming Bidireccional: MonitorearTransacciones
  #monitorearTransacciones(call) {
    call.on('data', (request) => {
      console.log(`Monitoreando cuenta: ${request.cuenta}`);

      const eventos = ['INICIO_SESION', 'TRANSFERENCIA_ENVIADA', 'TRANSFERENCIA_RECIBIDA'];

      eventos.forEach((evento, index) => {
        setTimeout(() => {
          call.write({
            evento,
            detalle: `Evento de cuenta ${request.cuenta}`,
            timestamp: Date.now()
          });
        }, index * 1000);
      });
    });

    call.on('end', () => {
      call.end();
    });

    call.on('error', (error) => {
      console.error('Error en stream:', error);
    });
  }

  async iniciar() {
    this.#server = new grpc.Server();

    this.#server.addService(this.#proto.TransferenciaService.service, {
      TransferirFondos: this.#transferirFondos.bind(this),
      ConsultarMovimientos: this.#consultarMovimientos.bind(this),
      MonitorearTransacciones: this.#monitorearTransacciones.bind(this)
    });

    return new Promise((resolve, reject) => {
      this.#server.bindAsync(
        this.#config.port,
        grpc.ServerCredentials.createInsecure(),
        (err, port) => {
          if (err) {
            console.error('Error al iniciar servidor:', err);
            reject(err);
            return;
          }
          console.log(`Servidor gRPC escuchando en puerto ${port}`);
          this.#server.start();
          resolve(port);
        }
      );
    });
  }

  detener() {
    return new Promise((resolve) => {
      this.#server?.tryShutdown(() => {
        console.log('Servidor gRPC detenido');
        resolve();
      });
    });
  }
}

// Uso
const servidor = new ServidorGRPC();
await servidor.iniciar();</code></pre>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Cliente gRPC -->
                        <div class="code-tab-content" data-tab="grpc-client">
                            <div class="code-container" style="margin: 0; border: none; border-radius: 0;">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fas fa-desktop"></i> cliente-grpc.js
                                    </div>
                                    <span class="code-language">Node.js</span>
                                </div>
                                <div class="code-content" style="max-height: 450px;">
                                    <pre class="line-numbers"><code class="language-javascript">// Cliente gRPC del Banco de Loja 
import grpc from '@grpc/grpc-js';
import protoLoader from '@grpc/proto-loader';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

class ClienteGRPC {
  #client = null;
  #config = {
    serverUrl: 'localhost:50051',
    protoPath: join(__dirname, 'banco.proto')
  };

  constructor(config = {}) {
    this.#config = { ...this.#config, ...config };
    this.#conectar();
  }

  #conectar() {
    const packageDefinition = protoLoader.loadSync(this.#config.protoPath, {
      keepCase: true,
      longs: String,
      enums: String,
      defaults: true,
      oneofs: true
    });

    const bancoProto = grpc.loadPackageDefinition(packageDefinition).banco.loja;

    this.#client = new bancoProto.TransferenciaService(
      this.#config.serverUrl,
      grpc.credentials.createInsecure()
    );
  }

  // ===== EJEMPLO 1: RPC Unario =====
  async transferirFondos(datosTransferencia) {
    console.log('\n=== Realizando transferencia (RPC Unario) ===');

    return new Promise((resolve, reject) => {
      this.#client.TransferirFondos(datosTransferencia, (error, response) => {
        if (error) {
          console.error('Error en transferencia:', error.message);
          reject(error);
          return;
        }

        console.log('Transferencia exitosa:');
        console.log(`  ID: ${response.transaccion_id}`);
        console.log(`  Saldo disponible: $${response.saldo_disponible}`);
        console.log(`  Mensaje: ${response.mensaje}`);

        resolve(response);
      });
    });
  }

  // ===== EJEMPLO 2: RPC Streaming del Servidor =====
  async consultarMovimientos(consultaParams) {
    console.log('\n=== Consultando movimientos (Streaming del Servidor) ===');

    return new Promise((resolve, reject) => {
      const movimientos = [];
      const call = this.#client.ConsultarMovimientos(consultaParams);

      call.on('data', (movimiento) => {
        const signo = movimiento.tipo === 'CREDITO' ? '+' : '-';
        console.log(`${signo} $${movimiento.monto} - ${movimiento.concepto} [${movimiento.id}]`);
        movimientos.push(movimiento);
      });

      call.on('end', () => {
        console.log('Consulta de movimientos completada');
        resolve(movimientos);
      });

      call.on('error', (error) => {
        console.error('Error:', error.message);
        reject(error);
      });
    });
  }

  // ===== EJEMPLO 3: RPC Streaming Bidireccional =====
  monitorearTransacciones(cuenta, duracionMs = 5000) {
    console.log('\n=== Monitoreando transacciones (Streaming Bidireccional) ===');

    const call = this.#client.MonitorearTransacciones();

    call.on('data', (response) => {
      const fecha = new Date(parseInt(response.timestamp));
      console.log(`[${fecha.toISOString()}] ${response.evento}: ${response.detalle}`);
    });

    call.on('end', () => {
      console.log('Monitoreo finalizado');
    });

    call.on('error', (error) => {
      console.error('Error en monitoreo:', error.message);
    });

    // Enviar solicitud de monitoreo
    call.write({ cuenta });

    // Cerrar stream despu√©s del tiempo especificado
    setTimeout(() => {
      call.end();
    }, duracionMs);

    return call;
  }
}

// ===== USO DEL CLIENTE =====
const cliente = new ClienteGRPC();

// Ejemplo 1: Transferencia
await cliente.transferirFondos({
  cuenta_origen: 'CTA-00123456',
  cuenta_destino: 'CTA-00789012',
  monto: 1500.00,
  concepto: 'Pago de servicios',
  referencia: 'REF-001'
});

// Ejemplo 2: Consultar movimientos
const movimientos = await cliente.consultarMovimientos({
  cuenta: 'CTA-00123456',
  fecha_inicio: Date.now() - 30 * 86400000,
  fecha_fin: Date.now()
});

// Ejemplo 3: Monitorear transacciones
cliente.monitorearTransacciones('CTA-00123456', 5000);</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; margin-top: 8px;">
                        <p style="color: var(--uide-accent); font-size: 0.8rem; margin: 0;">
                            <i class="fas fa-rocket"></i>
                            <strong>gRPC</strong> usa HTTP/2 y Protobuf para comunicaci√≥n ultra-r√°pida entre
                            microservicios.
                            Soporta RPC unario, streaming del servidor, cliente y bidireccional.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 7: gRPC Limitaciones -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-exclamation-triangle"></i> gRPC: Limitaciones y
            Trade-offs</h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "M√°s dependencias = m√°s actualizaciones frecuentes"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Complejidad</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Dependencias</strong>: Numerosas</li>
                        <li><strong>Actualizaciones</strong>: Frecuentes</li>
                        <li><strong>Acoplamiento</strong>: Fuerte</li>
                        <li><strong>Debugging</strong>: Complejo</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(248, 113, 113, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid #f87171; flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-exclamation-triangle"></i> HTTP/2 requerido
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="grpc-limit-tab active" data-demo="dependencies"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Dependencias
                    </button>
                    <button class="grpc-limit-tab" data-demo="updates"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Actualizaciones
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startGrpcLimitDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="grpcLimitDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo Dependencias -->
                <div id="demoDependencies" class="grpc-limit-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #f87171; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #f87171; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-project-diagram"></i> Gr√°fico de Dependencias
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow: hidden; height: 450px;">
                            <canvas id="dependenciesCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="dependenciesInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #f87171;">
                            Dependencias: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="dependenciesResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver las dependencias
                        </div>
                    </div>
                </div>

                <!-- Demo Actualizaciones -->
                <div id="demoUpdates" class="grpc-limit-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #fbbf24; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #fbbf24; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-clock"></i> Timeline de Actualizaciones
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 450px;">
                            <canvas id="updatesCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="updatesInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #fbbf24;">
                            Frecuencia: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="updatesResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver el timeline
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 8: JSON -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-file-code"></i> JSON: Formato de Serializaci√≥n
            Popular
        </h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "API REST p√∫blica para partners del Banco de Loja"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Ventajas</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Legible</strong>: Human-readable</li>
                        <li><strong>Simple</strong>: F√°cil de usar</li>
                        <li><strong>Universal</strong>: Amplio soporte</li>
                        <li><strong>Compacto</strong>: M√°s que XML</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> API p√∫blica y app m√≥vil
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="json-tab active" data-demo="editor"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Editor
                    </button>
                    <button class="json-tab" data-demo="validation"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Validaci√≥n
                    </button>
                    <button class="json-tab" data-demo="json-codigo"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        C√≥digo
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startJsonDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="jsonDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo Editor -->
                <div id="demoEditor" class="json-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-code"></i> Editor JSON Interactivo
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 450px;">
                            <canvas id="jsonEditorCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="jsonEditorInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #60a5fa;">
                            Tama√±o: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="jsonEditorResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver el editor
                        </div>
                    </div>
                </div>

                <!-- Demo Validaci√≥n -->
                <div id="demoValidation" class="json-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #f87171; padding: 10px; flex: 1; display: flex; flex-direction: column; max-height: 48%;">
                        <h3 style="text-align: center; color: #f87171; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-times-circle"></i> JSON Inv√°lido
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 200px;">
                            <canvas id="jsonInvalidCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="jsonInvalidInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #f87171;">
                            Error: -</div>
                    </div>

                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column; max-height: 48%;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-check-circle"></i> JSON V√°lido
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 200px;">
                            <canvas id="jsonValidCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="jsonValidInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Estado: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="jsonValidationResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver la validaci√≥n
                        </div>
                    </div>
                </div>

                <!-- Demo C√≥digo -->
                <div id="demoCodigo" class="json-demo-content"
                    style="display: none; flex-direction: column; gap: 10px; height: 100%;">
                    <div class="code-subtabs-container"
                        style="display: flex; gap: 8px; padding: 8px; background: rgba(15, 20, 25, 0.4); border-radius: 8px;">
                        <button class="json-code-subtab active" data-subtab="schema"
                            style="flex: 1; padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-size: 0.75rem; cursor: pointer; font-weight: 600; transition: all 0.2s;">
                            Schema
                        </button>
                        <button class="json-code-subtab" data-subtab="validador"
                            style="flex: 1; padding: 8px 12px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 6px; font-size: 0.75rem; cursor: pointer; font-weight: 600; transition: all 0.2s;">
                            Validador
                        </button>
                        <button class="json-code-subtab" data-subtab="api"
                            style="flex: 1; padding: 8px 12px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 6px; font-size: 0.75rem; cursor: pointer; font-weight: 600; transition: all 0.2s;">
                            API
                        </button>
                    </div>

                    <!-- Schema Definition -->
                    <div id="jsonCodeSchema" class="json-code-content" style="display: flex; flex: 1; min-height: 0;">
                        <div class="code-container"
                            style="flex: 1; overflow: hidden; display: flex; flex-direction: column;">
                            <div class="code-header">
                                <span class="code-filename">transaccion.schema.json</span>
                                <button class="code-copy-btn" onclick="copyCode(this)">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div style="flex: 1; overflow-y: auto;">
                                <pre style="margin: 0;"><code class="language-json">{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://bancodeloja.fin.ec/schemas/transaccion.json",
  "title": "Transacci√≥n Bancaria",
  "description": "Esquema de validaci√≥n para transacciones del Banco de Loja",
  "type": "object",
  "required": ["id", "tipo", "origen", "destino", "monto", "fecha"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^TXN-[0-9]{10}$",
      "description": "Identificador √∫nico de transacci√≥n"
    },
    "tipo": {
      "type": "string",
      "enum": ["transferencia", "pago", "retiro", "deposito"],
      "description": "Tipo de operaci√≥n bancaria"
    },
    "origen": {
      "type": "object",
      "required": ["cuenta", "titular"],
      "properties": {
        "cuenta": {
          "type": "string",
          "pattern": "^[0-9]{10}$",
          "description": "N√∫mero de cuenta de 10 d√≠gitos"
        },
        "titular": {
          "type": "string",
          "minLength": 3,
          "maxLength": 100
        },
        "banco": {
          "type": "string",
          "default": "Banco de Loja"
        }
      }
    },
    "destino": {
      "type": "object",
      "required": ["cuenta", "titular"],
      "properties": {
        "cuenta": {
          "type": "string",
          "pattern": "^[0-9]{10}$"
        },
        "titular": {
          "type": "string",
          "minLength": 3,
          "maxLength": 100
        },
        "banco": {
          "type": "string"
        }
      }
    },
    "monto": {
      "type": "number",
      "minimum": 0.01,
      "maximum": 50000,
      "multipleOf": 0.01,
      "description": "Monto en USD, m√°ximo $50,000"
    },
    "fecha": {
      "type": "string",
      "format": "date-time",
      "description": "Fecha y hora en formato ISO 8601"
    },
    "descripcion": {
      "type": "string",
      "maxLength": 500
    },
    "metadata": {
      "type": "object",
      "properties": {
        "ip": {
          "type": "string",
          "format": "ipv4"
        },
        "dispositivo": {
          "type": "string"
        },
        "geolocalizacion": {
          "type": "object",
          "properties": {
            "lat": { "type": "number", "minimum": -90, "maximum": 90 },
            "lon": { "type": "number", "minimum": -180, "maximum": 180 }
          }
        }
      }
    }
  }
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Validador -->
                    <div id="jsonCodeValidador" class="json-code-content"
                        style="display: none; flex: 1; min-height: 0;">
                        <div class="code-container"
                            style="flex: 1; overflow: hidden; display: flex; flex-direction: column;">
                            <div class="code-header">
                                <span class="code-filename">validador.js</span>
                                <button class="code-copy-btn" onclick="copyCode(this)">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div style="flex: 1; overflow-y: auto;">
                                <pre style="margin: 0;"><code class="language-javascript">import Ajv from 'ajv';
import addFormats from 'ajv-formats';
import { readFile } from 'fs/promises';

class ValidadorTransacciones {
  #ajv;
  #schema;
  #validador;

  constructor() {
    this.#ajv = new Ajv({
      allErrors: true,
      verbose: true,
      strict: false,
      coerceTypes: false
    });
    addFormats(this.#ajv);
  }

  async cargarSchema(rutaSchema) {
    const contenido = await readFile(rutaSchema, 'utf-8');
    this.#schema = JSON.parse(contenido);
    this.#validador = this.#ajv.compile(this.#schema);
    console.log('Schema cargado correctamente');
  }

  validar(transaccion) {
    const valido = this.#validador(transaccion);

    if (valido) {
      return {
        valido: true,
        mensaje: 'Transacci√≥n v√°lida'
      };
    }

    const errores = this.#validador.errors?.map(error => ({
      campo: error.instancePath || error.params?.missingProperty,
      tipo: error.keyword,
      mensaje: error.message,
      valorActual: error.data
    })) ?? [];

    return {
      valido: false,
      errores,
      mensaje: `Validaci√≥n fallida: ${errores.length} error(es) encontrado(s)`
    };
  }

  async validarLote(transacciones) {
    const resultados = {
      total: transacciones.length,
      validas: 0,
      invalidas: 0,
      detalles: []
    };

    for (const [index, transaccion] of transacciones.entries()) {
      const resultado = this.validar(transaccion);

      if (resultado.valido) {
        resultados.validas++;
      } else {
        resultados.invalidas++;
        resultados.detalles.push({
          indice: index,
          id: transaccion?.id ?? 'sin-id',
          errores: resultado.errores
        });
      }
    }

    return resultados;
  }
}

// Ejemplo de uso
const validador = new ValidadorTransacciones();
await validador.cargarSchema('./transaccion.schema.json');

// Transacci√≥n v√°lida
const transaccionValida = {
  id: 'TXN-1234567890',
  tipo: 'transferencia',
  origen: {
    cuenta: '1234567890',
    titular: 'Juan P√©rez'
  },
  destino: {
    cuenta: '0987654321',
    titular: 'Mar√≠a Garc√≠a',
    banco: 'Banco Pichincha'
  },
  monto: 150.50,
  fecha: new Date().toISOString(),
  descripcion: 'Pago de servicios'
};

const resultado1 = validador.validar(transaccionValida);
console.log('Resultado:', resultado1);

// Transacci√≥n inv√°lida
const transaccionInvalida = {
  id: 'TXN-123',
  tipo: 'hackeo',
  origen: { cuenta: '123', titular: 'X' },
  monto: -500
};

const resultado2 = validador.validar(transaccionInvalida);
console.log('Errores encontrados:', resultado2.errores?.length ?? 0);</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- API Integration -->
                    <div id="jsonCodeApi" class="json-code-content" style="display: none; flex: 1; min-height: 0;">
                        <div class="code-container"
                            style="flex: 1; overflow: hidden; display: flex; flex-direction: column;">
                            <div class="code-header">
                                <span class="code-filename">api-transacciones.js</span>
                                <button class="code-copy-btn" onclick="copyCode(this)">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div style="flex: 1; overflow-y: auto;">
                                <pre style="margin: 0;"><code class="language-javascript">import express from 'express';
import { ValidadorTransacciones } from './validador.js';

class APITransacciones {
  #app;
  #validador;
  #puerto;

  constructor(puerto = 3000) {
    this.#app = express();
    this.#validador = new ValidadorTransacciones();
    this.#puerto = puerto;

    this.#configurarMiddleware();
    this.#configurarRutas();
  }

  #configurarMiddleware() {
    this.#app.use(express.json());

    this.#app.use((err, req, res, next) => {
      if (err instanceof SyntaxError && err.status === 400) {
        return res.status(400).json({
          error: 'JSON inv√°lido',
          mensaje: err.message
        });
      }
      next();
    });
  }

  #configurarRutas() {
    this.#app.post('/api/transacciones', async (req, res) => {
      try {
        const resultado = this.#validador.validar(req.body);

        if (!resultado.valido) {
          return res.status(400).json({
            error: 'Validaci√≥n fallida',
            detalles: resultado.errores
          });
        }

        const transaccionProcesada = await this.#procesarTransaccion(req.body);

        res.status(201).json({
          mensaje: 'Transacci√≥n procesada exitosamente',
          id: transaccionProcesada.id,
          estado: 'completada',
          timestamp: new Date().toISOString()
        });
      } catch (error) {
        console.error('Error procesando transacci√≥n:', error);
        res.status(500).json({
          error: 'Error interno del servidor',
          mensaje: error?.message ?? 'Error desconocido'
        });
      }
    });

    this.#app.post('/api/transacciones/lote', async (req, res) => {
      try {
        const { transacciones } = req.body;

        if (!Array.isArray(transacciones)) {
          return res.status(400).json({
            error: 'El campo "transacciones" debe ser un array'
          });
        }

        const resultados = await this.#validador.validarLote(transacciones);

        res.json({
          mensaje: 'Validaci√≥n de lote completada',
          resumen: {
            total: resultados.total,
            validas: resultados.validas,
            invalidas: resultados.invalidas,
            tasa_exito: ((resultados.validas / resultados.total) * 100).toFixed(2) + '%'
          },
          errores: resultados.detalles
        });
      } catch (error) {
        res.status(500).json({
          error: 'Error procesando lote',
          mensaje: error?.message ?? 'Error desconocido'
        });
      }
    });

    this.#app.get('/api/schema', (req, res) => {
      res.json(this.#validador.obtenerSchema());
    });
  }

  async #procesarTransaccion(transaccion) {
    await new Promise(resolve => setTimeout(resolve, 100));

    return {
      ...transaccion,
      estado: 'completada',
      timestamp_procesamiento: new Date().toISOString()
    };
  }

  async iniciar() {
    await this.#validador.cargarSchema('./transaccion.schema.json');

    this.#app.listen(this.#puerto, () => {
      console.log(`API escuchando en puerto ${this.#puerto}`);
      console.log(`POST /api/transacciones - Procesar transacci√≥n`);
      console.log(`POST /api/transacciones/lote - Validar lote`);
      console.log(`GET  /api/schema - Obtener schema`);
    });
  }
}

// Iniciar servidor
const api = new APITransacciones(3000);
await api.iniciar();</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Slide 9: Protobuf -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-cogs"></i> Protocol Buffers: Serializaci√≥n Eficiente
        </h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Esquemas de datos para transacciones bancarias"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Caracter√≠sticas</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Binario</strong>: Muy compacto</li>
                        <li><strong>R√°pido</strong>: Alta velocidad</li>
                        <li><strong>Multiplataforma</strong>: Varios lenguajes</li>
                        <li><strong>Evoluci√≥n</strong>: Sin ruptura</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> Field numbers = compatibilidad
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="protobuf-tab active" data-demo="code"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        C√≥digo
                    </button>
                    <button class="protobuf-tab" data-demo="evolution"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Evoluci√≥n
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startProtobufDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                    <div id="protobufControls" style="margin-top: 6px; font-size: 0.75rem;">
                        <label style="color: #e2e8f0;">Lenguaje: </label>
                        <select id="protobufLang"
                            style="padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.75rem;">
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="go">Go</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="protobufDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo C√≥digo -->
                <div id="demoCode" class="protobuf-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #a78bfa; padding: 10px; flex: 1; display: flex; flex-direction: column; max-height: 48%;">
                        <h3 style="text-align: center; color: #a78bfa; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-file-code"></i> Definici√≥n .proto
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 200px;">
                            <canvas id="protoDefCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="protoDefInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #a78bfa;">
                            Archivo: user.proto</div>
                    </div>

                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column; max-height: 48%;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-code"></i> C√≥digo Generado
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 200px;">
                            <canvas id="generatedCodeCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="generatedCodeInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Lenguaje: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="protoCodeResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver la generaci√≥n de c√≥digo
                        </div>
                    </div>
                </div>

                <!-- Demo Evoluci√≥n -->
                <div id="demoEvolution" class="protobuf-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-code-branch"></i> Evoluci√≥n de Esquema
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 450px;">
                            <canvas id="evolutionCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="evolutionInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Versi√≥n: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="evolutionResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver la evoluci√≥n
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 10: Protobuf C√≥digo -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-code"></i> Protobuf: Compilador y FieldMask</h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Generaci√≥n de c√≥digo para backend Python y sistemas legacy Java"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Proceso</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Definici√≥n</strong>: .proto</li>
                        <li><strong>Compilaci√≥n</strong>: protoc</li>
                        <li><strong>Generaci√≥n</strong>: Stubs</li>
                        <li><strong>Integraci√≥n</strong>: C√≥digo</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> Optimiza respuestas m√≥viles
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="protoc-tab active" data-demo="compiler"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Compilador
                    </button>
                    <button class="protoc-tab" data-demo="fieldmask"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        FieldMask
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startProtocDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="protocDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo Compilador -->
                <div id="demoCompiler" class="protoc-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-cogs"></i> Flujo del Compilador protoc
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow: hidden; height: 450px;">
                            <canvas id="compilerFlowCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="compilerFlowInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Paso: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="compilerFlowResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver el flujo de compilaci√≥n
                        </div>
                    </div>
                </div>

                <!-- Demo FieldMask -->
                <div id="demoFieldmask" class="protoc-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; flex: 1; display: flex; flex-direction: column; min-height: 0;">
                        <h3
                            style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem; flex-shrink: 0;">
                            <i class="fas fa-filter"></i> FieldMask Interactivo
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; min-height: 0; display: flex; flex-direction: column;">
                            <div style="margin-bottom: 15px; flex-shrink: 0;">
                                <p style="color: #e2e8f0; font-size: 0.85rem; margin-bottom: 10px;">
                                    <strong>Selecciona los campos que deseas recibir:</strong>
                                </p>
                                <div id="fieldMaskCheckboxes"
                                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 6px;">
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" class="field-checkbox" value="id" checked
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>id</span>
                                    </label>
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" class="field-checkbox" value="name" checked
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>name</span>
                                    </label>
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" class="field-checkbox" value="email"
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>email</span>
                                    </label>
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" class="field-checkbox" value="age"
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>age</span>
                                    </label>
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" class="field-checkbox" value="roles"
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>roles</span>
                                    </label>
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                                        <input type="checkbox" class="field-checkbox" value="metadata.created"
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>metadata.created</span>
                                    </label>
                                    <label
                                        style="color: #ffffff; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; gap: 6px; grid-column: span 2;">
                                        <input type="checkbox" class="field-checkbox" value="metadata.lastLogin"
                                            style="width: 14px; height: 14px; cursor: pointer;">
                                        <span>metadata.lastLogin</span>
                                    </label>
                                </div>
                            </div>
                            <div style="flex: 1; min-height: 0; position: relative;">
                                <canvas id="fieldMaskCanvas" style="display: block; width: 100%;"></canvas>
                            </div>
                        </div>
                        <div id="fieldMaskInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #60a5fa; flex-shrink: 0;">
                            Campos seleccionados: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="fieldMaskResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para aplicar FieldMask
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 10.5: Pr√°ctica - Servicio Eco JSON vs Protobuf -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-flask"></i> Pr√°ctica: Servicio Eco - JSON vs Protobuf
        </h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Objetivo y Proceso -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Implementar un servicio de eco que responde en JSON y Protobuf para comparar tama√±os"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Objetivo</h3>
                    <p style="font-size: 0.8rem; line-height: 1.4; margin: 0;">
                        Crear un servidor Express con dos endpoints que reciban un mensaje y lo devuelvan junto con un timestamp, comparando el tama√±o de las respuestas.
                    </p>
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Endpoints</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>POST /echo/json</strong>: Responde en JSON</li>
                        <li><strong>POST /echo/protobuf</strong>: Responde en Protobuf</li>
                    </ul>
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Proceso</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li>1. Definir esquema <code>.proto</code></li>
                        <li>2. Crear servidor Express</li>
                        <li>3. Implementar endpoints</li>
                        <li>4. Ejecutar pruebas con <code>npm test</code></li>
                        <li>5. Analizar resultados</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> Protobuf reduce el tama√±o ~47%
                    </p>
                </div>
            </div>

            <!-- Columna Derecha: C√≥digo de Ejemplo -->
            <div style="display: flex; flex-direction: column; gap: 12px; height: 100%; overflow-y: auto;">
                <!-- Esquema .proto -->
                <div
                    style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #a78bfa; padding: 10px; flex-shrink: 0;">
                    <h3 style="text-align: center; color: #a78bfa; margin: 0 0 8px 0; font-size: 0.9rem;">
                        <i class="fas fa-file-code"></i> echo.proto
                    </h3>
                    <pre style="margin: 0; font-size: 0.75rem; line-height: 1.4;"><code class="language-protobuf">syntax = "proto3";

package echo;

message EchoRequest {
  string message = 1;
}

message EchoResponse {
  string message = 1;
  int64 timestamp = 2;
}</code></pre>
                </div>

                <!-- Endpoint JSON -->
                <div
                    style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; flex-shrink: 0;">
                    <h3 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem;">
                        <i class="fas fa-code"></i> Endpoint JSON
                    </h3>
                    <pre style="margin: 0; font-size: 0.7rem; line-height: 1.4;"><code class="language-javascript">app.post('/echo/json', (req, res) => {
  const { message } = req.body;

  const response = {
    message: message,
    timestamp: Date.now()
  };

  const size = JSON.stringify(response).length;
  res.set('X-Response-Size', size);
  res.json(response);
});</code></pre>
                </div>

                <!-- Endpoint Protobuf -->
                <div
                    style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex-shrink: 0;">
                    <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                        <i class="fas fa-code"></i> Endpoint Protobuf
                    </h3>
                    <pre style="margin: 0; font-size: 0.7rem; line-height: 1.4;"><code class="language-javascript">app.post('/echo/protobuf', (req, res) => {
  const requestMessage = EchoRequest.decode(req.body);

  const responsePayload = {
    message: requestMessage.message,
    timestamp: Date.now()
  };

  const responseMessage = EchoResponse.create(responsePayload);
  const buffer = EchoResponse.encode(responseMessage).finish();

  res.set('X-Response-Size', buffer.length);
  res.send(buffer);
});</code></pre>
                </div>

                <!-- Resultados Esperados -->
                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 10px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <h3 style="font-size: 0.9rem; margin: 0 0 6px 0; color: var(--uide-accent);">
                        <i class="fas fa-chart-bar"></i> Resultados Esperados
                    </h3>
                    <div style="font-size: 0.75rem; line-height: 1.5;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                            <span><strong>JSON:</strong></span>
                            <span style="color: #60a5fa;">~66 bytes</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                            <span><strong>Protobuf:</strong></span>
                            <span style="color: #4ade80;">~35 bytes</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding-top: 6px; border-top: 1px solid rgba(255,255,255,0.2);">
                            <span><strong>Reducci√≥n:</strong></span>
                            <span style="color: var(--uide-accent); font-weight: 600;">46.97%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 11: MessagePack -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-box"></i> MessagePack: El Punto Medio</h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Cache de sesiones en Redis para autenticaci√≥n r√°pida"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Posicionamiento</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Binario</strong>: M√°s eficiente que JSON</li>
                        <li><strong>Simple</strong>: M√°s f√°cil que Protobuf</li>
                        <li><strong>Sin esquema</strong>: No requiere .proto</li>
                        <li><strong>Multiplataforma</strong>: Amplio soporte</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> Cache Redis y colas de mensajes
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="msgpack-tab active" data-demo="radar"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Comparaci√≥n
                    </button>
                    <button class="msgpack-tab" data-demo="usecases"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Casos de Uso
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startMsgPackDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="msgpackDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo Radar -->
                <div id="demoRadar" class="msgpack-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #fbbf24; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #fbbf24; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-chart-radar"></i> Gr√°fico de Radar Comparativo
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow: hidden; height: 300px;">
                            <canvas id="radarCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="radarInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #fbbf24;">
                            Tecnolog√≠as: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="radarResult" style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Comparaci√≥n de rendimiento HTTP/1.1 vs HTTP/2
                        </div>
                    </div>
                </div>

                <!-- Demo Casos de Uso -->
                <div id="demoUsecases" class="msgpack-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #4ade80; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-sitemap"></i> Casos de Uso por Tecnolog√≠a
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 450px;">
                            <canvas id="usecasesCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="usecasesInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #4ade80;">
                            Casos de uso: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="usecasesResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver los casos de uso
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 12: XML Fundamentos -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-code"></i> XML: Verbosidad y Overhead</h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Caracter√≠sticas -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Integraci√≥n con SRI para facturas electr√≥nicas y reportes"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Costos</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                        <li><strong>Verbosidad</strong>: Tags duplicados</li>
                        <li><strong>Overhead</strong>: 2-3x m√°s grande</li>
                        <li><strong>Parsing</strong>: Costoso</li>
                        <li><strong>Metadatos</strong>: Informaci√≥n extra</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(248, 113, 113, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid #f87171; flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-exclamation-triangle"></i> Legacy pero a√∫n usado
                    </p>
                </div>

                <!-- Pesta√±as de Demos -->
                <div style="display: flex; gap: 4px; flex-shrink: 0;">
                    <button class="xml-tab active" data-demo="overhead"
                        style="flex: 1; padding: 6px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        Overhead
                    </button>
                    <button class="xml-tab" data-demo="dom"
                        style="flex: 1; padding: 6px; background: rgba(255,255,255,0.1); color: #e2e8f0; border: none; border-radius: 4px; font-size: 0.7rem; cursor: pointer; font-weight: 600;">
                        √Årbol DOM
                    </button>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startXmlDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Iniciar Demo
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Visualizaci√≥n -->
            <div id="xmlDemoContainer" style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <!-- Demo Overhead -->
                <div id="demoOverhead" class="xml-demo-content"
                    style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #f87171; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #f87171; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-chart-bar"></i> Comparaci√≥n de Tama√±os
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 450px;">
                            <canvas id="overheadCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="overheadInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #f87171;">
                            Tama√±os: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="overheadResult"
                            style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver el overhead
                        </div>
                    </div>
                </div>

                <!-- Demo √Årbol DOM -->
                <div id="demoDom" class="xml-demo-content"
                    style="display: none; flex-direction: column; gap: 12px; height: 100%;">
                    <div
                        style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                        <h3 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem;">
                            <i class="fas fa-sitemap"></i> √Årbol DOM de XML
                        </h3>
                        <div
                            style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow: hidden; height: 450px;">
                            <canvas id="domCanvas" style="display: block;"></canvas>
                        </div>
                        <div id="domInfo"
                            style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #60a5fa;">
                            Nodos: -</div>
                    </div>

                    <div
                        style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                        <div id="domResult" style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                            Presiona "Iniciar Demo" para ver el √°rbol DOM
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 13: XML Herramientas -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-tools"></i> XML: XPath Interactivo</h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Selectores -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Consultar transacciones del SRI con XPath"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Selectores XPath</h3>
                    <select id="xpathSelector"
                        style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.85rem; margin-bottom: 10px;">
                        <option value="//transaccion">Todas las transacciones</option>
                        <option value="//transaccion[@tipo='transferencia']">Solo transferencias</option>
                        <option value="//transaccion[monto>1000]">Montos > $1000</option>
                        <option value="//transaccion[@banco='Pichincha']">Al Banco Pichincha</option>
                        <option value="//cliente/nombre">Nombres de clientes</option>
                        <option value="//transaccion/fecha">Todas las fechas</option>
                    </select>
                </div>

                <div
                    style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-info-circle"></i> Herramienta para auditor√≠a
                    </p>
                </div>

                <div
                    style="flex: 1; background: rgba(15, 20, 25, 0.6); border-radius: 8px; padding: 10px; overflow-y: auto;">
                    <h3 style="font-size: 0.9rem; margin-bottom: 8px; color: #fbbf24;">üìã Resultado</h3>
                    <div id="xpathResult"
                        style="font-family: monospace; font-size: 0.75rem; color: #4ade80; line-height: 1.6;">
                        Selecciona una consulta XPath...
                    </div>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="executeXPath"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Ejecutar Consulta
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Documento XML -->
            <div style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <div
                    style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                    <h3 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem;">
                        <i class="fas fa-file-code"></i> Documento XML - Transacciones Banco de Loja
                    </h3>
                    <div
                        style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow-y: auto; height: 450px;">
                        <canvas id="xpathCanvas" style="display: block;"></canvas>
                    </div>
                    <div id="xpathInfo"
                        style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #60a5fa;">
                        Elementos resaltados: -</div>
                </div>

                <div
                    style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                    <div id="xpathSummary" style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                        XPath permite consultas precisas sobre documentos XML
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 14: XML Empresarial -->
    <div class="slide">
        <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-building"></i> XML: SOAP y Sistemas Legacy</h2>

        <div
            style="display: grid; grid-template-columns: 40% 60%; gap: 20px; height: calc(100vh - 200px); max-height: 640px;">
            <!-- Columna Izquierda: Info -->
            <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                <div class="quote" style="font-size: 0.8rem; padding: 10px; margin: 0;">
                    "Integraci√≥n con IESS y BCE mediante SOAP"
                </div>

                <div style="flex-shrink: 0;">
                    <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Casos de Uso Ecuador</h3>
                    <ul style="font-size: 0.8rem; line-height: 1.6; margin: 0; padding-left: 18px;">
                        <li>‚ñ† <strong>BCE</strong>: Tasas de inter√©s</li>
                        <li>üíº <strong>IESS</strong>: Verificaci√≥n aportes</li>
                        <li>‚ñä <strong>SRI</strong>: Facturas electr√≥nicas</li>
                        <li>üèõÔ∏è <strong>Superintendencia</strong>: Reportes</li>
                    </ul>
                </div>

                <div
                    style="background: rgba(248, 113, 113, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid #f87171; flex-shrink: 0;">
                    <p style="font-size: 0.75rem; margin: 0;">
                        <i class="fas fa-exclamation-triangle"></i> Legacy pero obligatorio
                    </p>
                </div>

                <div
                    style="flex: 1; background: rgba(15, 20, 25, 0.6); border-radius: 8px; padding: 10px; overflow-y: auto;">
                    <h3 style="font-size: 0.9rem; margin-bottom: 8px; color: #60a5fa;">üìã REST vs SOAP</h3>
                    <table style="width: 100%; font-size: 0.75rem; color: #e2e8f0;">
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 6px; font-weight: bold;">Formato</td>
                            <td style="padding: 6px;">JSON</td>
                            <td style="padding: 6px;">XML</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 6px; font-weight: bold;">Protocolo</td>
                            <td style="padding: 6px;">HTTP</td>
                            <td style="padding: 6px;">HTTP/SMTP</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 6px; font-weight: bold;">Contrato</td>
                            <td style="padding: 6px;">OpenAPI</td>
                            <td style="padding: 6px;">WSDL</td>
                        </tr>
                        <tr>
                            <td style="padding: 6px; font-weight: bold;">Uso</td>
                            <td style="padding: 6px; color: #4ade80;">Moderno</td>
                            <td style="padding: 6px; color: #f87171;">Legacy</td>
                        </tr>
                    </table>
                </div>

                <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                    <button id="startSoapDemo"
                        style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                        <i class="fas fa-play"></i> Ver Flujo SOAP
                    </button>
                </div>
            </div>

            <!-- Columna Derecha: Diagrama SOAP -->
            <div style="display: flex; flex-direction: column; gap: 12px; height: 100%;">
                <div
                    style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #fbbf24; padding: 10px; flex: 1; display: flex; flex-direction: column;">
                    <h3 style="text-align: center; color: #fbbf24; margin: 0 0 8px 0; font-size: 0.9rem;">
                        <i class="fas fa-sitemap"></i> Arquitectura SOAP - Consulta al IESS
                    </h3>
                    <div
                        style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; overflow: hidden; height: 450px;">
                        <canvas id="soapCanvas" style="display: block;"></canvas>
                    </div>
                    <div id="soapInfo"
                        style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; color: #fbbf24;">
                        Paso: -</div>
                </div>

                <div
                    style="text-align: center; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; flex-shrink: 0;">
                    <div id="soapResult" style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">
                        SOAP/XML usado en integraciones gubernamentales obligatorias
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 15: Comparaci√≥n -->
    <div class="slide">
        <h2><i class="fas fa-balance-scale"></i> Comparaci√≥n de Tecnolog√≠as</h2>
        <table>
            <thead>
                <tr>
                    <th>Tecnolog√≠a</th>
                    <th>Velocidad</th>
                    <th>Tama√±o</th>
                    <th>Complejidad</th>
                    <th>Interoperabilidad</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>gRPC/Protobuf</strong></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                </tr>
                <tr>
                    <td><strong>HTTP/2</strong></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i></td>
                </tr>
                <tr>
                    <td><strong>WebSockets</strong></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                </tr>
                <tr>
                    <td><strong>JSON</strong></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i><i class="fas fa-star"></i></td>
                </tr>
                <tr>
                    <td><strong>XML</strong></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i></td>
                    <td><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                            class="fas fa-star"></i><i class="fas fa-star"></i></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Slide 16: Criterios de Selecci√≥n y Casos de Uso -->
    <div class="slide">
        <h2><i class="fas fa-check-circle"></i> Criterios de Selecci√≥n: Casos de Uso</h2>
        <div class="content-grid">
            <div class="feature-card">
                <h3><i class="fas fa-server"></i> Microsservicios Internos</h3>
                <p><strong>Recomendaci√≥n</strong>: gRPC + Protobuf</p>
                <p><strong>Raz√≥n</strong>: M√°ximo rendimiento, latencia cr√≠tica, control de dependencias</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-globe"></i> APIs P√∫blicas</h3>
                <p><strong>Recomendaci√≥n</strong>: JSON + HTTP/REST</p>
                <p><strong>Raz√≥n</strong>: Simplicidad, adopci√≥n masiva, desarrollo √°gil</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-clock"></i> Tiempo Real</h3>
                <p><strong>Recomendaci√≥n</strong>: WebSockets</p>
                <p><strong>Raz√≥n</strong>: Conexi√≥n persistente bidireccional, streaming eficiente</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-building"></i> Integraci√≥n Empresarial</h3>
                <p><strong>Recomendaci√≥n</strong>: XML</p>
                <p><strong>Raz√≥n</strong>: Est√°ndares establecidos, herramientas maduras, interoperabilidad</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-cogs"></i> Sistemas en Evoluci√≥n</h3>
                <p><strong>Recomendaci√≥n</strong>: Protobuf</p>
                <p><strong>Raz√≥n</strong>: Versionado sin ruptura, evoluci√≥n r√°pida</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-balance-scale"></i> Balance Eficiencia/Simplicidad</h3>
                <p><strong>Recomendaci√≥n</strong>: MessagePack</p>
                <p><strong>Raz√≥n</strong>: M√°s eficiente que JSON, m√°s simple que Protobuf</p>
            </div>
        </div>
    </div>

    <!-- Slide 18: Actividades -->
    <!-- Slide: Actividades y Herramientas -->
    <div class="slide">
        <h2><i class="fas fa-clipboard-list"></i> Actividades Calificadas y Herramientas</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; padding: 0 40px;">
            <!-- Columna Izquierda: Actividades Calificadas -->
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <div style="padding: 20px; background: rgba(15, 20, 25, 0.6); border-radius: 12px; border: 2px solid var(--uide-primary);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="color: var(--uide-primary); font-size: 1.3rem; margin: 0;">
                            <i class="fas fa-clipboard-check"></i> Actividades Calificadas
                        </h3>
                        <button onclick="copyActivitiesPMSBD()" class="teacher-copy-btn-pmsbd" style="display: none; background: rgba(96, 165, 250, 0.2); border: 1px solid #60a5fa; color: #60a5fa; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: all 0.3s;" onmouseover="this.style.background='rgba(96, 165, 250, 0.3)'" onmouseout="this.style.background='rgba(96, 165, 250, 0.2)'">
                            <i class="fas fa-copy"></i> Copiar
                        </button>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <!-- GA-1.1 -->
                        <div style="background: rgba(96, 165, 250, 0.15); padding: 15px; border-radius: 10px; border-left: 4px solid #60a5fa;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <span style="color: #e2e8f0; font-size: 1rem; font-weight: 600;">
                                    <i class="fas fa-poll"></i> GA-1.1: Sondeo de protocolos
                                </span>
                                <span style="color: var(--uide-accent); font-size: 1rem; font-weight: 700;">1 pt</span>
                            </div>
                            <p style="color: #cbd5e1; font-size: 0.85rem; margin: 0; line-height: 1.4;">
                                ¬øCu√°ndo usar HTTP/2, WebSockets, gRPC?
                            </p>
                        </div>

                        <!-- PE-1.3 -->
                        <div style="background: rgba(74, 222, 128, 0.15); padding: 15px; border-radius: 10px; border-left: 4px solid #4ade80;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <span style="color: #e2e8f0; font-size: 1rem; font-weight: 600;">
                                    <i class="fas fa-flask"></i> PE-1.3: Lab eco-service
                                </span>
                                <span style="color: var(--uide-accent); font-size: 1rem; font-weight: 700;">2.25 pts</span>
                            </div>
                            <p style="color: #cbd5e1; font-size: 0.85rem; margin: 0; line-height: 1.4;">
                                Servicio Node.js con JSON y Protobuf
                            </p>
                        </div>

                        <!-- TA-1.3 -->
                        <div style="background: rgba(233, 171, 33, 0.15); padding: 15px; border-radius: 10px; border-left: 4px solid var(--uide-accent);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <span style="color: #e2e8f0; font-size: 1rem; font-weight: 600;">
                                    <i class="fas fa-file-code"></i> TA-1.3: Postman collection
                                </span>
                                <span style="color: var(--uide-accent); font-size: 1rem; font-weight: 700;">2.25 pts</span>
                            </div>
                            <p style="color: #cbd5e1; font-size: 0.85rem; margin: 0; line-height: 1.4;">
                                Collection + script de cliente
                            </p>
                        </div>

                        <!-- Total -->
                        <div style="background: rgba(233, 171, 33, 0.2); padding: 15px; border-radius: 10px; border: 2px solid var(--uide-accent); margin-top: 5px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="color: var(--uide-accent); font-size: 1.1rem; font-weight: 700;">
                                    <i class="fas fa-star"></i> Total Semana 3
                                </span>
                                <span style="color: var(--uide-accent); font-size: 1.3rem; font-weight: 700;">5.5 pts</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Columna Derecha: Herramientas -->
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <div style="padding: 20px; background: rgba(35, 53, 110, 0.3); border-radius: 12px; border: 2px solid #60a5fa;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="color: #60a5fa; font-size: 1.3rem; margin: 0;">
                            <i class="fas fa-tools"></i> Herramientas
                        </h3>
                        <button onclick="copyToolsPMSBD()" class="teacher-copy-btn-pmsbd" style="display: none; background: rgba(74, 222, 128, 0.2); border: 1px solid #4ade80; color: #4ade80; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: all 0.3s;" onmouseover="this.style.background='rgba(74, 222, 128, 0.3)'" onmouseout="this.style.background='rgba(74, 222, 128, 0.2)'">
                            <i class="fas fa-copy"></i> Copiar
                        </button>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4ade80;">
                            <i class="fas fa-code" style="color: #4ade80; margin-right: 8px;"></i>
                            <span style="color: #e2e8f0; font-size: 0.95rem; font-weight: 500;">Node.js + Express</span>
                        </div>
                        <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4ade80;">
                            <i class="fas fa-cube" style="color: #4ade80; margin-right: 8px;"></i>
                            <span style="color: #e2e8f0; font-size: 0.95rem; font-weight: 500;">Protocol Buffers (Protobuf)</span>
                        </div>
                        <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4ade80;">
                            <i class="fas fa-rocket" style="color: #4ade80; margin-right: 8px;"></i>
                            <span style="color: #e2e8f0; font-size: 0.95rem; font-weight: 500;">Postman (testing de APIs)</span>
                        </div>
                        <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4ade80;">
                            <i class="fas fa-network-wired" style="color: #4ade80; margin-right: 8px;"></i>
                            <span style="color: #e2e8f0; font-size: 0.95rem; font-weight: 500;">gRPC framework</span>
                        </div>
                        <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4ade80;">
                            <i class="fas fa-bolt" style="color: #4ade80; margin-right: 8px;"></i>
                            <span style="color: #e2e8f0; font-size: 0.95rem; font-weight: 500;">WebSockets</span>
                        </div>
                        <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4ade80;">
                            <i class="fas fa-book" style="color: #4ade80; margin-right: 8px;"></i>
                            <span style="color: #e2e8f0; font-size: 0.95rem; font-weight: 500;">Documentaci√≥n t√©cnica</span>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(233, 171, 33, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--uide-accent);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <p style="margin: 0; font-size: 0.9rem; color: #e2e8f0; font-weight: 600;">
                            <i class="fas fa-graduation-cap"></i> Unidad 2: Protocolos y Seguridad
                        </p>
                        <button onclick="copyUnitTitlePMSBD()" class="teacher-copy-btn-pmsbd" style="display: none; background: rgba(233, 171, 33, 0.2); border: 1px solid var(--uide-accent); color: var(--uide-accent); padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 0.75rem; transition: all 0.3s;" onmouseover="this.style.background='rgba(233, 171, 33, 0.3)'" onmouseout="this.style.background='rgba(233, 171, 33, 0.2)'">
                            <i class="fas fa-copy"></i> Copiar
                        </button>
                    </div>
                    <p style="margin: 0; font-size: 0.85rem; color: #cbd5e1; line-height: 1.5;">
                        HTTP/2, WebSockets, gRPC ‚Ä¢ JSON, Protobuf, MessagePack ‚Ä¢ XML b√°sico y rol enterprise
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variable para controlar si los botones est√°n visibles
        let teacherModeActivePMSBD = false;

        // Detectar combinaci√≥n de teclas Ctrl+Shift+C
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                teacherModeActivePMSBD = !teacherModeActivePMSBD;
                toggleTeacherButtonsPMSBD();
                
                if (teacherModeActivePMSBD) {
                    showCopyNotificationPMSBD('üéì Modo Docente Activado - Botones de copiar visibles');
                } else {
                    showCopyNotificationPMSBD('üëÅÔ∏è Modo Docente Desactivado - Botones ocultos');
                }
            }
        });

        function toggleTeacherButtonsPMSBD() {
            const buttons = document.querySelectorAll('.teacher-copy-btn-pmsbd');
            buttons.forEach(button => {
                if (teacherModeActivePMSBD) {
                    button.style.display = 'block';
                    button.style.animation = 'fadeIn 0.3s ease-in';
                } else {
                    button.style.display = 'none';
                }
            });
        }

        function copyActivitiesPMSBD() {
            const text = `ACTIVIDADES CALIFICADAS - SEMANA 3

GA-1.1: Sondeo de protocolos (1 pt)
¬øCu√°ndo usar HTTP/2, WebSockets, gRPC?

PE-1.3: Lab eco-service (2.25 pts)
Servicio Node.js con JSON y Protobuf

TA-1.3: Postman collection (2.25 pts)
Collection + script de cliente

TOTAL: 5.5 puntos`;

            navigator.clipboard.writeText(text).then(() => {
                showCopyNotificationPMSBD('Actividades copiadas al portapapeles');
            }).catch(err => {
                console.error('Error al copiar:', err);
            });
        }

        function copyToolsPMSBD() {
            const text = `HERRAMIENTAS DE APRENDIZAJE - SEMANA 3

‚Ä¢ Node.js + Express
‚Ä¢ Protocol Buffers (Protobuf)
‚Ä¢ Postman (testing de APIs)
‚Ä¢ gRPC framework
‚Ä¢ WebSockets
‚Ä¢ Documentaci√≥n t√©cnica`;

            navigator.clipboard.writeText(text).then(() => {
                showCopyNotificationPMSBD('Herramientas copiadas al portapapeles');
            }).catch(err => {
                console.error('Error al copiar:', err);
            });
        }

        function copyUnitTitlePMSBD() {
            const text = `Semana 3 ‚Ä¢ HTTP/2, WebSockets, gRPC ‚Ä¢ JSON, Protobuf, MessagePack ‚Ä¢ XML b√°sico y rol enterprise`;

            navigator.clipboard.writeText(text).then(() => {
                showCopyNotificationPMSBD('Contenido de la semana copiado al portapapeles');
            }).catch(err => {
                console.error('Error al copiar:', err);
            });
        }

        function showCopyNotificationPMSBD(message) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(74, 222, 128, 0.95);
                color: #0f1419;
                padding: 15px 25px;
                border-radius: 8px;
                font-size: 0.9rem;
                font-weight: 600;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideInPMSBD 0.3s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutPMSBD 0.3s ease-out';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 2000);
        }

        // Agregar estilos de animaci√≥n
        const stylePMSBD = document.createElement('style');
        stylePMSBD.textContent = `
            @keyframes slideInPMSBD {
                from {
                    transform: translateX(400px);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutPMSBD {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(400px);
                    opacity: 0;
                }
            }
            
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: scale(0.9);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }
        `;
        document.head.appendChild(stylePMSBD);
    </script>

    <!-- Slide 19: S√≠ntesis y Reflexiones -->
    <div class="slide title-slide">
        <h1><i class="fas fa-lightbulb"></i> Arquitectura Banco de Loja: S√≠ntesis</h1>
        <div class="quote">
            "Sistema bancario moderno con integraci√≥n legacy - Un caso real ecuatoriano"
        </div>

        <div
            style="margin-top: 1.5rem; background: rgba(15, 20, 25, 0.6); border-radius: 12px; padding: 20px; border: 2px solid var(--uide-accent);">
            <h3 style="color: var(--uide-accent); margin-bottom: 1rem; text-align: center;">
                <i class="fas fa-sitemap"></i> Stack Tecnol√≥gico Completo
            </h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 1.5rem;">
                <div
                    style="background: rgba(96, 165, 250, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid #60a5fa;">
                    <h4 style="color: #60a5fa; margin-bottom: 8px; font-size: 0.95rem;">‚ñØ Capa de Presentaci√≥n
                    </h4>
                    <p style="font-size: 0.85rem; margin: 0;">
                        <strong>HTTP/2 + JSON</strong><br>
                        App m√≥vil con multiplexaci√≥n<br>
                        <span style="color: #94a3b8;">Dashboard, transacciones, notificaciones</span>
                    </p>
                </div>

                <div
                    style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid #4ade80;">
                    <h4 style="color: #4ade80; margin-bottom: 8px; font-size: 0.95rem;">‚ö° Tiempo Real</h4>
                    <p style="font-size: 0.85rem; margin: 0;">
                        <strong>WebSockets</strong><br>
                        Notificaciones y soporte en vivo<br>
                        <span style="color: #94a3b8;">Alertas de transacciones, chat</span>
                    </p>
                </div>

                <div
                    style="background: rgba(34, 197, 94, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid #22c55e;">
                    <h4 style="color: #22c55e; margin-bottom: 8px; font-size: 0.95rem;">‚ñ≤ Microsservicios</h4>
                    <p style="font-size: 0.85rem; margin: 0;">
                        <strong>gRPC + Protobuf</strong><br>
                        Comunicaci√≥n interna de alta velocidad<br>
                        <span style="color: #94a3b8;">Cuentas, transacciones, reportes</span>
                    </p>
                </div>

                <div
                    style="background: rgba(251, 191, 36, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid #fbbf24;">
                    <h4 style="color: #fbbf24; margin-bottom: 8px; font-size: 0.95rem;">‚ñ£ Cache y Colas</h4>
                    <p style="font-size: 0.85rem; margin: 0;">
                        <strong>MessagePack + Redis</strong><br>
                        Sesiones y transacciones pendientes<br>
                        <span style="color: #94a3b8;">Autenticaci√≥n r√°pida, queues</span>
                    </p>
                </div>
            </div>

            <div
                style="background: rgba(248, 113, 113, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid #f87171;">
                <h4 style="color: #f87171; margin-bottom: 8px; font-size: 0.95rem;">üèõÔ∏è Integraciones Legacy
                </h4>
                <p style="font-size: 0.85rem; margin: 0;">
                    <strong>SOAP + XML</strong><br>
                    SRI (facturas), IESS (aportes), BCE (tasas), Superintendencia (reportes)<br>
                    <span style="color: #94a3b8;">‚ö†Ô∏è Obligatorio por regulaci√≥n ecuatoriana</span>
                </p>
            </div>
        </div>

        <div style="margin-top: 1.5rem; background: rgba(233, 171, 33, 0.1); padding: 15px; border-radius: 10px;">
            <h3 style="color: var(--uide-accent); margin-bottom: 10px; text-align: center;">
                <i class="fas fa-check-circle"></i> Reglas de Oro
            </h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.85rem;">
                <div>‚úÖ HTTP/2 para app m√≥vil</div>
                <div>‚úÖ WebSockets solo para notificaciones</div>
                <div>‚úÖ gRPC entre microsservicios</div>
                <div>‚úÖ JSON para APIs p√∫blicas</div>
                <div>‚ö†Ô∏è XML/SOAP cuando sea obligatorio</div>
                <div>‚ñ£ MessagePack para cache</div>
            </div>
        </div>

        <div style="margin-top: 1rem; text-align: center; font-style: italic; color: #e2e8f0; font-size: 0.95rem;">
            <i class="fas fa-graduation-cap"></i> Cada tecnolog√≠a tiene su lugar en una arquitectura moderna
        </div>
    </div>

    <!-- Slide 21: Referencias Bibliogr√°ficas -->
    <div class="slide">
        <h2><i class="fas fa-book"></i> Referencias Bibliogr√°ficas</h2>
        <div style="max-width: 1000px; margin: 0 auto;">
            <h3 style="margin-bottom: 1.5rem;">Bibliograf√≠a B√°sica</h3>
            <ul style="font-size: 1rem; line-height: 1.8; margin-bottom: 2rem;">
                <li><strong>Beynon-Davies, P. (2018).</strong> <em>Sistemas de Bases de Datos</em>. Editorial
                    Revert√©. <a href="https://www.proquest.com/books/sistemas-de-bases-datos/docview/2590135108/se-2"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
            </ul>

            <h3 style="margin-bottom: 1.5rem;">Bibliograf√≠a Complementaria</h3>
            <ul style="font-size: 0.95rem; line-height: 1.7;">
                <li><strong>Tanenbaum, A. S., & Van Steen, M. (2023).</strong> <em>Distributed Systems:
                        Principles
                        and Paradigms</em> (3rd ed.). Pearson. <a
                        href="https://alex-nguyen.github.io/vinhtngu/CSCourses/Spring2020/CS5352/Distributed_Systems_3-200225.pdf"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
                <li><strong>Newman, S. (2021).</strong> <em>Building Microservices: Designing Fine-Grained
                        Systems</em> (2nd ed.). O'Reilly Media. <a
                        href="https://www.oreilly.com/library/view/building-microservices-2nd/9781492034018/"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
                <li><strong>Kleppmann, M. (2023).</strong> <em>Designing Data-Intensive Applications: The Big
                        Ideas
                        Behind Reliable, Scalable, and Maintainable Systems</em> (2nd ed.). O'Reilly Media. <a
                        href="https://www.oreilly.com/library/view/designing-data-intensive-applications/9781098119058/"
                        style="color: var(--uide-accent);" target="_blank">Enlace</a></li>
            </ul>

            <h3 style="margin-bottom: 1.5rem; margin-top: 2rem;">Fuente ASU</h3>
            <ul style="font-size: 0.95rem; line-height: 1.7;">
                <li><strong>Arizona State University. (2024).</strong> <em>CSE445 (Distributed Software
                        Development)</em>. Computer Science and Engineering Program. Online</li>
                <li><strong>Arizona State University. (2024).</strong> <em>Master Class: A Practitioner's Guide
                        to
                        Generative AI</em> - April 2024</li>
            </ul>
        </div>
    </div>
    </div>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
        <button class="nav-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Slide Counter -->
    <div class="slide-counter">
        <span id="currentSlide">1</span> / <span id="totalSlides">20</span>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- External JavaScript -->
    <script src="js/helpers.js"></script>
    <script src="js/code-tabs-prism.js"></script>
    <script src="js/http2-demos.js"></script>
    <script src="js/websocket-inline-demos.js"></script>
    <script src="js/grpc-demos.js"></script>
    <script src="js/grpc-inline-demos.js"></script>
    <script src="js/json-inline-demos.js"></script>
    <script src="js/messagepack-inline-demos.js"></script>
    <script src="js/protoc-inline-demos.js"></script>
    <script src="js/xml-inline-demos.js"></script>
    <script src="presentacion.js"></script>

</body>

</html>