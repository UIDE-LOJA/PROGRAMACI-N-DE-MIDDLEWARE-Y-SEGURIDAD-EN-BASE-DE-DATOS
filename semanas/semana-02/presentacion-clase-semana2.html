<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Semana 2 - Capas, MVC y Middleware de Integración</title>

    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/highlight/monokai.css">

    <!-- UIDE Theme CSS -->
    <link rel="stylesheet" href="../../assets/css/uide-theme.css">

    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Timeline.js CSS -->
    <link title="timeline-styles" rel="stylesheet" href="//cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="presentacion-clase-semana2.css">

    <!-- Diagram Fullscreen CSS -->
    <link rel="stylesheet" href="css/diagram-fullscreen.css">

    <!-- Mermaid.js -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
</head>

<body>

    <div class="reveal">
        <div class="slides">

            <!-- Title Slide -->
            <section data-background-color="#f8f8f8" data-transition="convex">
                <div class="title-slide">
                    <h2>Programación de Middleware y Seguridad en Base de Datos</h2>
                    <h3>Capas, MVC y Middleware de Integración - Semana 2</h3>

                    <div class="course-info">
                        <strong>LTI_05A_458</strong> • Cuarto Nivel<br>
                        <strong>Programación de Middleware y Seguridad en BD</strong><br>
                        <em>Prof. Charlie Cárdenas Toledo, M.Sc.</em><br>
                        Universidad Internacional del Ecuador • Octubre 2025
                    </div>

                    <div
                        style="background: rgba(233, 171, 33, 0.1); border-radius: 8px; padding: 1em; margin: 1em 0; font-size: 0.9em;">
                        <strong>Arquitecturas en Capas y Patrones de Integración</strong><br>
                        <em>Semana 2 • Three-Layered Architecture • MVC • Integration Middleware</em>
                    </div>

                    <div style="margin-top: 2em; font-size: 0.9em; font-style: italic; color: var(--uide-secondary);">
                        Fundamentos arquitectónicos para sistemas distribuidos empresariales
                    </div>
                </div>
            </section>
            <!-- Agenda de la Semana 2 -->
            <!-- Pregunta Central -->
            <section data-transition="convex">
                <h2><i class="fas fa-question-circle"></i> La Pregunta del Millón</h2>

                <section>
                    <h3>El Reto Fundamental</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center; font-size: 1.5em;">
                            ¿Cómo crear sistemas que no solo funcionen hoy, sino que sean robustos y puedan crecer
                            mañana?
                        </h4>
                    </div>

                    <div class="interactive-box" style="margin-top: 2rem;">
                        <p style="font-size: 1.1em;"><i class="fas fa-lightbulb"></i> <strong>Los patrones
                                arquitectónicos intentan resolver este desafío</strong></p>
                    </div>
                </section>

                <section>
                    <h3>Nuestro Recorrido</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">El camino que seguiremos es bastante
                            lógico</h4>

                        <div class="r-hstack" style="margin-top: 2rem;">
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center; border: 3px solid #910048;">
                                    <h5><i class="fas fa-foundation"></i> 1. CIMIENTOS</h5>
                                    <p style="font-size: 0.9em; margin: 0.5rem 0;">Empezaremos por los cimientos</p>
                                    <ul style="font-size: 0.8em; text-align: left; margin: 0;">
                                        <li>Arquitectura en capas</li>
                                        <li>Patrón MVC</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(233, 171, 33, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center; border: 3px solid #E9AB21;">
                                    <h5><i class="fas fa-plug"></i> 2. CONEXIÓN</h5>
                                    <p style="font-size: 0.9em; margin: 0.5rem 0;">Cómo conectar sistemas distintos</p>
                                    <ul style="font-size: 0.8em; text-align: left; margin: 0;">
                                        <li>Middleware</li>
                                        <li>Integración</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="r-hstack" style="margin-top: 1rem;">
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center; border: 3px solid #23356E;">
                                    <h5><i class="fas fa-boxing-glove"></i> 3. GRAN DEBATE</h5>
                                    <p style="font-size: 0.9em; margin: 0.5rem 0;">Nos meteremos de lleno</p>
                                    <ul style="font-size: 0.8em; text-align: left; margin: 0;">
                                        <li>Monolito</li>
                                        <li>vs Microservicios</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(40, 167, 69, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center; border: 3px solid #28a745;">
                                    <h5><i class="fas fa-trophy"></i> 4. OBJETIVO FINAL</h5>
                                    <p style="font-size: 0.9em; margin: 0.5rem 0;">El concepto más importante</p>
                                    <ul style="font-size: 0.8em; text-align: left; margin: 0;">
                                        <li>Acoplamiento débil</li>
                                        <li>Santo Grial del software</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div style="text-align: center; margin-top: 2rem;">
                            <div style="display: inline-flex; align-items: center; gap: 1rem;">
                                <div style="width: 30px; height: 3px; background: #910048;"></div>
                                <i class="fas fa-arrow-right" style="color: #666; font-size: 1.2em;"></i>
                                <div style="width: 30px; height: 3px; background: #E9AB21;"></div>
                                <i class="fas fa-arrow-right" style="color: #666; font-size: 1.2em;"></i>
                                <div style="width: 30px; height: 3px; background: #23356E;"></div>
                                <i class="fas fa-arrow-right" style="color: #666; font-size: 1.2em;"></i>
                                <div style="width: 30px; height: 3px; background: #28a745;"></div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
            <!-- Arquitectura de Tres Capas -->
            <section data-transition="convex">
                <h2><i class="fas fa-layer-group"></i> Arquitectura de Tres Capas</h2>
                <section>
                    <h3>El "Abuelo" de Todos los Patrones</h3>
                    <div class="interactive-box">
                        <h3>¿Por qué separar en capas?</h3>
                        <p style="font-size: 0.9em; margin-top: 1rem;">La arquitectura de capas es considerada "el
                            abuelo de todos" los patrones arquitectónicos</p>
                    </div>

                    <div class="concept-box fragment">
                        <p style="text-align: center; font-size: 1.2em;">
                            <strong>Principio Fundamental:</strong><br>
                            <span style="color: var(--uide-primary); font-size: 1.3em;">Separación Rigurosa de
                                Preocupaciones</span>
                        </p>
                        <p style="text-align: center; font-style: italic; margin-top: 1rem;">
                            Cada capa tiene una responsabilidad específica y bien definida
                        </p>
                    </div>
                </section>
                <section>
                    <h3><i class="fas fa-layer-group"></i> Las Tres Capas</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Separación de Responsabilidades</h4>

                        <div class="interactive-box" style="margin-bottom: 1rem;">
                            <p><i class="fas fa-history"></i> <strong>Desde la Semana 1:</strong> Mencionamos "estilos y
                                capas a alto nivel". Ahora vamos al detalle de este patrón fundamental</p>
                        </div>

                        <div class="r-hstack">
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-desktop"></i> Presentación</h5>
                                    <p style="font-size: 0.9em;">La cara visible<br />Lo que vemos en la pantalla</p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-brain"></i> Lógica de Negocio</h5>
                                    <p style="font-size: 0.9em;">El cerebro de la operación<br />Todas las reglas</p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(233, 171, 33, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-database"></i> Datos</h5>
                                    <p style="font-size: 0.9em;">La memoria<br />Donde se guarda todo</p>
                                </div>
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-arrow-down"></i> <strong>Comunicación:</strong> Una sola dirección, de
                                arriba a abajo. Así se mantiene el orden.</p>
                        </div>
                    </div>
                </section>
                <section>
                    <h3><i class="fas fa-server"></i> Distribución Física</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Cada Capa en su Propio Servidor</h4>

                        <div class="r-hstack">
                            <div class="column">
                                <div
                                    style="background: rgba(233, 171, 33, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-globe"></i> Servidor Web</h5>
                                    <p style="font-size: 0.9em;">Máquina para la web<br />Especializada en presentación
                                    </p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-cogs"></i> Servidor de Aplicación</h5>
                                    <p style="font-size: 0.9em;">Máquina para la lógica<br />Especializada en
                                        procesamiento</p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-database"></i> Servidor de BD</h5>
                                    <p style="font-size: 0.9em;">Máquina para los datos<br />Especializada en
                                        almacenamiento</p>
                                </div>
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-info-circle"></i> <strong>Ventaja:</strong> Cada máquina especializada
                                en su tarea</p>
                        </div>
                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-lightbulb"></i> <strong>Beneficio:</strong> Optimización de
                                escalabilidad y rendimiento mediante distribución física</p>
                        </div>
                    </div>
                </section>
                <section>
                    <h3><i class="fas fa-plus"></i> Arquitectura de Cuatro Capas</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-secondary); text-align: center;">Especialización del Modelo de Tres
                            Capas</h4>

                        <div class="r-hstack">
                            <div class="column">
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-database"></i> Capa de Persistencia</h5>
                                    <p style="font-size: 0.9em;">Lógica de acceso a datos</p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>ORMs (Object-Relational Mapping)</li>
                                        <li>Data Access Objects (DAO)</li>
                                        <li>Repository Pattern</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(35, 53, 110, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-hdd"></i> Capa de Base de Datos</h5>
                                    <p style="font-size: 0.9em;">Almacenamiento físico</p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>RDBMS (MySQL, PostgreSQL)</li>
                                        <li>NoSQL (MongoDB, Cassandra)</li>
                                        <li>Sistemas de archivos distribuidos</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-info-circle"></i> <strong>Ventaja:</strong> Separación clara entre
                                lógica de acceso y almacenamiento físico</p>
                        </div>
                    </div>
                </section>
            </section>
            <!-- Patrón MVC -->
            <section data-transition="convex">
                <h2><i class="fas fa-sitemap"></i> Patrón Modelo-Vista-Controlador (MVC)</h2>

                <section>
                    <h3>La Misión de MVC</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Separar lo que la gente ve y toca de
                            la maquinaria</h4>

                        <div style="background: rgba(145, 0, 72, 0.1); padding: 2rem; border-radius: 8px;">
                            <p style="font-size: 1.1em; text-align: center; margin-bottom: 1rem;">
                                <strong>Gran Ventaja:</strong> El equipo de diseño y el de programación pueden trabajar
                                a la vez, cada uno en lo suyo, sin pisarse
                            </p>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-magic"></i> <strong>La Verdadera Magia:</strong> Cómo se coordinan los
                                tres para que todo vaya como la seda</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-puzzle-piece"></i> Cada Pieza Tiene su Trabajo</h3>
                    <div class="concept-box">
                        <div class="r-hstack">
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-brain"></i> Modelo</h5>
                                    <p style="font-size: 0.9em;">El que sabe de datos<br />y reglas de negocio</p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-eye"></i> Vista</h5>
                                    <p style="font-size: 0.9em;">Se encarga de pintar<br />la pantalla bonita</p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(233, 171, 33, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-gamepad"></i> Controlador</h5>
                                    <p style="font-size: 0.9em;">Está a la escucha<br />esperando clics y escritura</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-sync-alt"></i> La Clave de Todo: Consistencia</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Si se cambia un dato en un sitio...
                        </h4>

                        <div
                            style="background: rgba(233, 171, 33, 0.1); padding: 2rem; border-radius: 8px; margin: 1rem 0;">
                            <p style="font-size: 1.2em; text-align: center;">
                                <strong>¡ZAS!</strong> Todas las partes donde aparece se actualizan solas al instante
                            </p>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-shield-alt"></i> <strong>Se evita:</strong> Que la información quede
                                desincronizada</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-table"></i> Responsabilidades Detalladas</h3>
                    <div class="concept-box">
                        <table style="width: 100%; font-size: 0.9em; border-collapse: collapse;">
                            <thead>
                                <tr style="background: var(--uide-primary); color: white;">
                                    <th style="padding: 1rem; border: 1px solid #ddd;">Componente</th>
                                    <th style="padding: 1rem; border: 1px solid #ddd;">Responsabilidad</th>
                                    <th style="padding: 1rem; border: 1px solid #ddd;">Ejemplos</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td
                                        style="padding: 1rem; border: 1px solid #ddd; font-weight: bold; background: rgba(40, 167, 69, 0.1);">
                                        <i class="fas fa-brain"></i> Modelo
                                    </td>
                                    <td style="padding: 1rem; border: 1px solid #ddd;">
                                        Contiene la funcionalidad y los datos centrales
                                    </td>
                                    <td style="padding: 1rem; border: 1px solid #ddd;">
                                        Entidades, servicios de negocio, validaciones
                                    </td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td
                                        style="padding: 1rem; border: 1px solid #ddd; font-weight: bold; background: rgba(35, 53, 110, 0.1);">
                                        <i class="fas fa-eye"></i> Vista
                                    </td>
                                    <td style="padding: 1rem; border: 1px solid #ddd;">
                                        Muestra la información a los usuarios
                                    </td>
                                    <td style="padding: 1rem; border: 1px solid #ddd;">
                                        HTML, JSP, React components, templates
                                    </td>
                                </tr>
                                <tr>
                                    <td
                                        style="padding: 1rem; border: 1px solid #ddd; font-weight: bold; background: rgba(233, 171, 33, 0.1);">
                                        <i class="fas fa-gamepad"></i> Controlador
                                    </td>
                                    <td style="padding: 1rem; border: 1px solid #ddd;">
                                        Gestiona la entrada del usuario
                                    </td>
                                    <td style="padding: 1rem; border: 1px solid #ddd;">
                                        Servlets, Spring Controllers, Express routes
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-sync-alt"></i> Flujo de Interacción MVC</h3>
                    <div class="concept-box">
                        <div style="background: rgba(255, 255, 255, 0.9); padding: 2rem; border-radius: 12px;">
                            <div class="mermaid">
                                sequenceDiagram
                                participant U as 👤 Usuario
                                participant V as 👁️ Vista
                                participant C as 🎮 Controlador
                                participant M as 🧠 Modelo

                                U->>V: 1. Interacción (click, input)
                                V->>C: 2. Envía evento
                                C->>M: 3. Actualiza modelo
                                M->>V: 4. Notifica cambios
                                V->>U: 5. Actualiza interfaz

                                Note over U,M: Separación de responsabilidades
                                Note over V,C: Comprenden la UI conjuntamente
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-magic"></i> <strong>Magia del MVC:</strong> Si el usuario cambia el
                                modelo a través de una vista, todas las demás vistas se actualizan automáticamente</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-layer-group"></i> Presentation Model</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-secondary); text-align: center;">Derivado del MVC</h4>

                        <div class="r-hstack">
                            <div class="column">
                                <div style="background: rgba(145, 0, 72, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-adapter"></i> Función de Adaptador</h5>
                                    <p style="font-size: 0.9em;">Enmascara los detalles del modelo de dominio</p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Propiedades diseñadas para la vista</li>
                                        <li>Comportamientos específicos de UI</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(233, 171, 33, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-wrench"></i> Resuelve Problemas</h5>
                                    <p style="font-size: 0.9em;">"Desajuste de impedancia"</p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Modelo de dominio rico vs UI frameworks</li>
                                        <li>Expresiones fluidas vs getters públicos</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
            <!-- Middleware de Integración -->
            <section data-transition="convex">
                <h2><i class="fas fa-puzzle-piece"></i> Middleware de Integración Empresarial</h2>

                <section>
                    <h3>¿Qué pasa cuando sistemas diferentes necesitan hablarse?</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">El Middleware como Traductor
                            Universal</h4>

                        <div class="interactive-box" style="margin-bottom: 1rem;">
                            <p><i class="fas fa-history"></i> <strong>Como vimos en la Semana 1:</strong> El middleware
                                es esa capa de software que conecta sistemas distribuidos</p>
                        </div>

                        <div style="background: rgba(145, 0, 72, 0.1); padding: 2rem; border-radius: 8px;">
                            <p style="font-size: 1.1em; text-align: center; margin-bottom: 1rem;">
                                <strong>Escenario:</strong> Sistema bancario antiguo (COBOL) necesita enviar información
                                a una app móvil moderna
                            </p>
                            <p style="font-size: 1em; text-align: center; line-height: 1.6;">
                                El middleware se pone en medio y hace que se entiendan, traduciendo los mensajes y
                                gestionando toda esa complejidad
                            </p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-language"></i> Función: Traductor entre sistemas de diferentes épocas y
                        lenguajes</h3>
                    <div class="concept-box">
                        <div class="interactive-box">
                            <p><i class="fas fa-language"></i> <strong>Función:</strong> Traductor entre sistemas de
                                diferentes épocas y lenguajes</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-cogs"></i> Integración Funcional</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-secondary); text-align: center;">Tres Enfoques Principales</h4>

                        <div
                            style="background: rgba(255, 255, 255, 0.9); padding: 1rem; border-radius: 12px; overflow-x: auto; position: relative;">
                            <button class="mermaid-fullscreen-icon" onclick="openIntegrationDiagram()"
                                title="Ver diagrama detallado en pantalla completa"
                                style="position: absolute; top: 15px; right: 15px; background: rgba(35, 53, 112, 0.8); color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 0.9em; z-index: 10; opacity: 1;">
                                <i class="fas fa-expand"></i> Ver Detalle
                            </button>
                            <div class="mermaid" style="font-size: 0.8em;">
                                graph TB
                                subgraph "🔗 INTEGRACIÓN FUNCIONAL"

                                subgraph "🎯 Objetos Distribuidos"
                                DO["Objetos Distribuidos<br />• .NET Remoting<br />• COM+, CORBA<br />⚠️ Fuertemente
                                acoplado"]
                                end

                                subgraph "📨 MOM"
                                MOM["Message-Oriented<br />• Colas asíncronas<br />• Send and forget<br />✅
                                Desacoplado"]
                                end

                                subgraph "🌐 Servicios Web"
                                SOI["Service-Oriented<br />• XML Web Services<br />• SOAP y WSDL<br />✅ Estándares
                                abiertos"]
                                end

                                end

                                style DO fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px
                                style MOM fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
                                style SOI fill:#e1f5fe,stroke:#0288d1,stroke-width:2px
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-exchange-alt"></i> La Gracia de este Enfoque</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Send and Forget</h4>

                        <div class="interactive-box" style="margin-bottom: 1rem;">
                            <p><i class="fas fa-history"></i> <strong>Conexión con Semana 1:</strong> Recordemos las
                                tecnologías de mensajería que vimos: Kafka y RabbitMQ implementan este principio</p>
                        </div>

                        <div style="background: rgba(233, 171, 33, 0.1); padding: 2rem; border-radius: 8px;">
                            <p style="font-size: 1.2em; text-align: center; margin-bottom: 1rem;">
                                Un sistema puede lanzar un mensaje y olvidarse
                            </p>
                            <p style="font-size: 1em; text-align: center; line-height: 1.6;">
                                No tiene que quedarse esperando una respuesta. Ya se encargará el Middleware de
                                guardarlo en una cola y asegurarse de que llegue a su destino cuando el otro sistema
                                esté listo para recibirlo.
                            </p>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-gem"></i> <strong>Para la fiabilidad de un sistema:</strong> Esto es oro
                                puro</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-hub"></i> Integration Broker</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-accent); text-align: center;">Centro de Mediación</h4>

                        <div style="background: rgba(255, 255, 255, 0.9); padding: 2rem; border-radius: 12px;">
                            <div class="mermaid">
                                graph TB
                                subgraph "🏢 SISTEMAS EMPRESARIALES"
                                ERP["📊 ERP System"]
                                CRM["👥 CRM System"]
                                WMS["📦 WMS System"]
                                ECOM["🛒 E-commerce"]
                                end

                                subgraph "🔄 INTEGRATION BROKER"
                                IB["Integration Broker<br />• Transformación de datos<br />• Orquestación de
                                actividades<br />• Mantiene estado<br />• Gestión centralizada"]
                                end

                                ERP <--> IB
                                    CRM <--> IB
                                        WMS <--> IB
                                            ECOM <--> IB

                                                style IB fill:#fff3e0,stroke:#E9AB21,stroke-width:3px
                                                style ERP fill:#f3e5f5,stroke:#910048,stroke-width:2px
                                                style CRM fill:#e3f2fd,stroke:#23356E,stroke-width:2px
                                                style WMS fill:#fff8e1,stroke:#E9AB21,stroke-width:2px
                                                style ECOM fill:#ffebee,stroke:#910048,stroke-width:2px
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-magic"></i> <strong>Beneficio:</strong> Cooperación transparente de
                                sistemas heterogéneos sin que las aplicaciones necesiten información sobre las demás</p>
                        </div>
                    </div>
                </section>
            </section>
            <!-- Comparación de Estilos Arquitectónicos -->
            <section data-transition="convex">
                <h2><i class="fas fa-balance-scale"></i> El Gran Debate</h2>
                <section>
                    <h3>La Gran Pelea de la Arquitectura de Software</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Un Choque de Filosofías</h4>

                        <div class="interactive-box" style="margin-bottom: 1rem;">
                            <p><i class="fas fa-history"></i> <strong>Recordemos la Semana 1:</strong> Vimos la
                                evolución de arquitectura monolítica a distribuida. Ahora profundizamos en este debate
                            </p>
                        </div>

                        <div class="r-hstack">
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 2rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-cube"></i> A un lado del ring</h5>
                                    <p style="font-size: 1.1em;"><strong>El Monolito</strong></p>
                                    <p style="font-size: 0.9em;">Ese gran bloque donde todo está junto y se despliega
                                        como una sola pieza</p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 2rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-cubes"></i> Al otro lado</h5>
                                    <p style="font-size: 1.1em;"><strong>Los Microservicios</strong></p>
                                    <p style="font-size: 0.9em;">La aplicación se rompe en trocitos pequeños e
                                        independientes que se comunican entre sí</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Comparación Directa</h4>

                        <div style="background: rgba(255, 255, 255, 0.9); padding: 1rem; border-radius: 8px;">
                            <table style="width: 100%; font-size: 0.8em; border-collapse: collapse;">
                                <thead>
                                    <tr style="background: var(--uide-primary); color: white;">
                                        <th style="padding: 0.8rem; border: 1px solid #ddd;">Característica</th>
                                        <th style="padding: 0.8rem; border: 1px solid #ddd;">Arquitectura Monolítica
                                        </th>
                                        <th style="padding: 0.8rem; border: 1px solid #ddd;">Arquitectura de
                                            Microservicios</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd; font-weight: bold;">Unidad
                                            de Despliegue</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Artefacto único y
                                            desplegable</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Múltiples servicios
                                            independientes</td>
                                    </tr>
                                    <tr style="background: #f8f9fa;">
                                        <td style="padding: 0.8rem; border: 1px solid #ddd; font-weight: bold;">
                                            Escalabilidad</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Escalado vertical de toda
                                            la aplicación</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Escalado horizontal por
                                            servicio</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd; font-weight: bold;">Gestión
                                            de Datos</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Base de datos centralizada
                                        </td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Propiedad de datos
                                            descentralizada</td>
                                    </tr>
                                    <tr style="background: #f8f9fa;">
                                        <td style="padding: 0.8rem; border: 1px solid #ddd; font-weight: bold;">Impacto
                                            de Fallas</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Posibles fallas a nivel de
                                            todo el sistema</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Fallas de servicio aisladas
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd; font-weight: bold;">
                                            Tecnología</td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Pila tecnológica uniforme
                                        </td>
                                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Habilita la programación
                                            políglota</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-chart-line"></i> Escalabilidad</h3>
                    <div class="concept-box">
                        <div class="r-hstack">
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-cube"></i> Monolito</h5>
                                    <p style="font-size: 0.9em;">Si una parte necesita más potencia, hay que darle más
                                        potencia a <strong>todo el bloque</strong></p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-cubes"></i> Microservicios</h5>
                                    <p style="font-size: 0.9em;">Solo se escala <strong>la piececita</strong> que lo
                                        necesita</p>
                                </div>
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-shopping-cart"></i> <strong>Ejemplo:</strong> Sistema de pagos de una
                                tienda online en Black Friday. Solo se refuerza esa parte, no toda la web.</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-exclamation-triangle"></i> Impacto de Fallos</h3>
                    <div class="concept-box">
                        <div class="r-hstack">
                            <div class="column">
                                <div
                                    style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-bomb"></i> Monolito</h5>
                                    <p style="font-size: 0.9em;">Un error grave puede <strong>tirar abajo todo el
                                            sistema</strong></p>
                                </div>
                            </div>
                            <div class="column">
                                <div
                                    style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h5><i class="fas fa-shield-alt"></i> Microservicios</h5>
                                    <p style="font-size: 0.9em;">Si un servicio falla, <strong>los demás suelen poder
                                            seguir funcionando</strong></p>
                                </div>
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-balance-scale"></i> <strong>Ventaja brutal:</strong> Pero a costa de que
                                todo sea más complejo de gestionar</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-question-circle"></i> ¿Por qué toda esta Complicación?</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;">Todo se reduce a conseguir una cosa
                        </h4>

                        <div
                            style="background: rgba(233, 171, 33, 0.1); padding: 2rem; border-radius: 8px; margin: 1rem 0;">
                            <p style="font-size: 1.5em; text-align: center; font-weight: bold;">
                                EL SANTO GRIAL DEL DISEÑO DE SOFTWARE
                            </p>
                            <p style="font-size: 1.2em; text-align: center; margin-top: 1rem;">
                                <strong>ACOPLAMIENTO DÉBIL</strong>
                            </p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3><i class="fas fa-unlink"></i> Acoplamiento Débil</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-secondary); text-align: center;">Las distintas partes del sistema
                            dependen lo mínimo posible unas de otras</h4>

                        <div
                            style="background: rgba(145, 0, 72, 0.1); padding: 2rem; border-radius: 8px; margin: 1rem 0;">
                            <p style="font-size: 1.1em; text-align: center;">
                                <strong>Lo contrario del acoplamiento fuerte:</strong><br />
                                Donde tocas una cosa y de repente se rompe otra que no te esperabas
                            </p>
                            <p style="font-size: 1em; text-align: center; margin-top: 1rem; font-style: italic;">
                                Un efecto dominó terrorífico
                            </p>
                        </div>
                    </div>

                    <div class="r-hstack">
                        <div class="column">
                            <div style="background: rgba(145, 0, 72, 0.1); padding: 1rem; border-radius: 8px;">
                                <h5><i class="fas fa-link"></i> Fuerte Acoplamiento</h5>
                                <ul style="font-size: 0.8em; text-align: left;">
                                    <li>Dependencias directas</li>
                                    <li>Cambios en cascada</li>
                                    <li>Difícil evolución</li>
                                    <li>Global coupling</li>
                                </ul>
                            </div>
                        </div>
                        <div class="column">
                            <div style="background: rgba(40, 167, 69, 0.1); padding: 1rem; border-radius: 8px;">
                                <h5><i class="fas fa-unlink"></i> Loose Coupling</h5>
                                <ul style="font-size: 0.8em; text-align: left;">
                                    <li>Sistemas menos dependientes</li>
                                    <li>Evolución independiente</li>
                                    <li>Mayor flexibilidad</li>
                                    <li>Mejor mantenibilidad</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            </section>

            <section>
                <h3><i class="fas fa-list-ol"></i> Receta de Tres Pasos</h3>
                <div class="concept-box">
                    <h4 style="color: var(--uide-primary); text-align: center;">Para conseguir ese desacoplamiento, ¿qué
                        hace falta?</h4>

                    <div class="r-hstack">
                        <div class="column">
                            <div
                                style="background: rgba(145, 0, 72, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                <h5><i class="fas fa-puzzle-piece"></i> 1. Componentización</h5>
                                <p style="font-size: 0.9em;">Romper la aplicación en <strong>servicios
                                        independientes</strong></p>
                            </div>
                        </div>
                        <div class="column">
                            <div
                                style="background: rgba(35, 53, 110, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                <h5><i class="fas fa-comments"></i> 2. Comunicación</h5>
                                <p style="font-size: 0.9em;">Que todos hablen <strong>el mismo idioma</strong> a través
                                    de
                                    APIs</p>
                            </div>
                        </div>
                        <div class="column">
                            <div
                                style="background: rgba(233, 171, 33, 0.1); padding: 1.5rem; border-radius: 8px; text-align: center;">
                                <h5><i class="fas fa-handshake"></i> 3. Coordinación</h5>
                                <p style="font-size: 0.9em;">Que los servicios sepan <strong>cómo encontrarse</strong> y
                                    hablar sin problemas</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h3><i class="fas fa-history"></i> La Historia Completa</h3>
                <div class="concept-box">
                    <h4 style="color: var(--uide-primary); text-align: center;">Si echamos la vista atrás</h4>

                    <div
                        style="background: rgba(233, 171, 33, 0.1); padding: 2rem; border-radius: 8px; margin: 1rem 0;">
                        <p style="font-size: 1.1em; text-align: center; line-height: 1.6;">
                            Toda esta evolución es en el fondo una historia muy clara: la de pasar de construir
                            <strong>grandes bloques rígidos</strong> y muy dependientes entre sí a construir sistemas
                            con
                            <strong>piezas más pequeñas, más flexibles e independientes</strong>.
                        </p>
                    </div>

                    <div class="interactive-box" style="margin-top: 1rem;">
                        <p><i class="fas fa-target"></i> <strong>Todo para conseguir:</strong> Sistemas que aguanten
                            mejor
                            los fallos, que puedan crecer más fácilmente y que se adapten mejor a los cambios</p>
                    </div>
                </div>
            </section>

            <section>
                <h3><i class="fas fa-balance-scale"></i> La Gran Reflexión Final</h3>
                <div class="concept-box">
                    <h4 style="color: var(--uide-primary); text-align: center;">La tensión constante</h4>

                    <div style="background: rgba(145, 0, 72, 0.1); padding: 2rem; border-radius: 8px; margin: 1rem 0;">
                        <p style="font-size: 1.2em; text-align: center; line-height: 1.6;">
                            Entre buscar la <strong>simplicidad</strong> de tenerlo todo junto y la
                            <strong>flexibilidad</strong> de tenerlo todo separado
                        </p>
                    </div>

                    <div class="interactive-box" style="margin-top: 1rem;">
                        <p><i class="fas fa-palette"></i> <strong>Ahí está el arte:</strong> De la buena arquitectura de
                            software</p>
                    </div>
                </div>
            </section>

            <section>
                <h3><i class="fas fa-database"></i> CQRS Pattern</h3>
                <div class="concept-box">
                    <h4 style="color: var(--uide-accent); text-align: center;">Command-Query Responsibility Segregation
                    </h4>

                    <div style="background: rgba(255, 255, 255, 0.9); padding: 2rem; border-radius: 12px;">
                        <div class="mermaid">
                            graph LR
                            subgraph "📝 COMMAND SIDE (Escritura)"
                            CMD["Commands<br />• Create<br />• Update<br />• Delete"]
                            CMDDB[("Write Database<br />Optimized for<br />Transactions")]
                            end

                            subgraph "📊 QUERY SIDE (Lectura)"
                            QRY["Queries<br />• Read<br />• Search<br />• Reports"]
                            QRYDB[("Read Database<br />Optimized for<br />Queries")]
                            end

                            CMD --> CMDDB
                            QRY --> QRYDB
                            CMDDB -.->|Sync| QRYDB

                            style CMD fill:#f3e5f5,stroke:#910048,stroke-width:2px
                            style QRY fill:#e3f2fd,stroke:#23356E,stroke-width:2px
                            style CMDDB fill:#f3e5f5,stroke:#910048,stroke-width:2px
                            style QRYDB fill:#e3f2fd,stroke:#23356E,stroke-width:2px
                        </div>
                    </div>

                    <div class="interactive-box" style="margin-top: 1rem;">
                        <p><i class="fas fa-lightbulb"></i> <strong>Beneficio:</strong> Separación del modelo de
                            escritura
                            del modelo de lectura para optimización específica</p>
                    </div>
                </div>
            </section>
            </section>
            <!-- Actividades de la Semana -->
            <section data-transition="convex">
                <h2><i class="fas fa-tasks"></i> Actividades Semana 2</h2>

                <section>
                    <h3>PE-1.2: Diagrama de Arquitectura MVC</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-primary); text-align: center;"><i class="fas fa-flask"></i>
                            Práctica Experimental (2.25 puntos)</h4>

                        <div class="r-hstack">
                            <div class="column">
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-clipboard-check"></i> Objetivo</h5>
                                    <p style="font-size: 0.9em;">Diseñar arquitectura de aplicación web usando MVC</p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Identificar componentes M-V-C</li>
                                        <li>Definir responsabilidades</li>
                                        <li>Mapear flujo de datos</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(35, 53, 110, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-tools"></i> Entregables</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Diagrama de arquitectura</li>
                                        <li>Descripción de componentes</li>
                                        <li>Justificación de decisiones</li>
                                        <li>Identificación de patrones</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="timer-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-clock"></i> <strong>Tiempo en clase:</strong> 45 minutos</p>
                        </div>
                    </div>
                </section>

                <section>
                    <h3>TA-1.2: Análisis de Middleware de Integración</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-accent); text-align: center;"><i class="fas fa-home"></i>
                            Trabajo Autónomo (2.25 puntos)</h4>

                        <div class="r-hstack">
                            <div class="column">
                                <div style="background: rgba(233, 171, 33, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-book-open"></i> Contenido</h5>
                                    <p style="font-size: 0.9em;">Investigación de caso real de integración empresarial
                                    </p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Identificar middleware utilizado</li>
                                        <li>Analizar patrones de integración</li>
                                        <li>Evaluar ventajas y desventajas</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(145, 0, 72, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-pen"></i> Formato</h5>
                                    <p style="font-size: 0.9em;">Reporte técnico estructurado</p>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Máximo 3 páginas</li>
                                        <li>Diagramas de arquitectura</li>
                                        <li>Conclusiones y recomendaciones</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-calendar"></i> <strong>Entrega:</strong> Antes de la próxima clase</p>
                        </div>
                    </div>
                </section>
            </section>

            <!-- Síntesis y Cierre -->
            <section data-transition="convex">
                <h2><i class="fas fa-lightbulb"></i> Síntesis de la Semana</h2>

                <section>
                    <h3>Conceptos Clave Aprendidos</h3>
                    <div class="concept-box">
                        <div class="r-hstack">
                            <div class="column">
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-layer-group"></i> Arquitectura en Capas</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li><strong>Three-Layered:</strong> Presentación, Lógica, Datos</li>
                                        <li><strong>Distribución física:</strong> Servidores especializados</li>
                                        <li><strong>Separación:</strong> Responsabilidades bien definidas</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(35, 53, 110, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-sitemap"></i> Patrón MVC</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li><strong>Modelo:</strong> Funcionalidad y datos centrales</li>
                                        <li><strong>Vista:</strong> Presentación al usuario</li>
                                        <li><strong>Controlador:</strong> Gestión de entrada</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="r-hstack" style="margin-top: 1rem;">
                            <div class="column">
                                <div style="background: rgba(233, 171, 33, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-puzzle-piece"></i> Middleware de Integración</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li><strong>MOM:</strong> Message-Oriented Middleware</li>
                                        <li><strong>Integration Broker:</strong> Centro de mediación</li>
                                        <li><strong>SOI:</strong> Service-Oriented Integration</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(145, 0, 72, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-balance-scale"></i> Estilos Arquitectónicos</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li><strong>Monolito:</strong> Artefacto único</li>
                                        <li><strong>Microservicios:</strong> Servicios independientes</li>
                                        <li><strong>CQRS:</strong> Separación comando-consulta</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h3>Próxima Semana: APIs y Servicios Web</h3>
                    <div class="concept-box">
                        <h4 style="color: var(--uide-secondary); text-align: center;"><i class="fas fa-forward"></i>
                            Semana 3 - Unidad 2</h4>

                        <div class="r-hstack">
                            <div class="column">
                                <div style="background: rgba(145, 0, 72, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-book-open"></i> Temas</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>REST vs SOAP</li>
                                        <li>Diseño de APIs</li>
                                        <li>Documentación con OpenAPI</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="column">
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 1rem; border-radius: 8px;">
                                    <h5><i class="fas fa-tools"></i> Herramientas</h5>
                                    <ul style="font-size: 0.8em; text-align: left;">
                                        <li>Postman para testing</li>
                                        <li>Swagger/OpenAPI</li>
                                        <li>Spring Boot / Express.js</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h3>¡Gracias por su Participación!</h3>
                    <div class="concept-box">
                        <div style="text-align: center; padding: 2rem;">
                            <h4 style="color: var(--uide-primary);"><i class="fas fa-graduation-cap"></i> Programación
                                de
                                Middleware y Seguridad en BD</h4>
                            <p style="font-size: 1.1em; margin: 1rem 0;">
                                <strong>Semana 2 completada</strong>
                            </p>
                            <p style="font-size: 0.9em; color: var(--uide-secondary);">
                                Prof. Charlie Cárdenas Toledo, M.Sc.<br>
                                Universidad Internacional del Ecuador
                            </p>
                        </div>

                        <div class="interactive-box" style="margin-top: 1rem;">
                            <p><i class="fas fa-question-circle"></i> <strong>¿Preguntas?</strong> Este es el momento
                                para
                                aclarar dudas sobre arquitecturas y patrones</p>
                        </div>
                    </div>
                </section>
            </section>

        </div>
    </div>

    <!-- Reveal.js JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/notes/notes.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/markdown/markdown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/highlight/highlight.js"></script>

    <!-- Diagram Fullscreen JavaScript -->
    <script src="js/diagram-fullscreen.js"></script>

    <!-- Custom JavaScript -->
    <script src="presentacion-clase-semana2.js"></script>

    <script>
        // Robust Mermaid initialization system (from compendium)
        let mermaidInitialized = false;

        function initializeMermaid() {
            if (mermaidInitialized || typeof mermaid === 'undefined') {
                return;
            }

            try {
                // Clear any existing configuration
                if (mermaid.initialize) {
                    mermaid.initialize({
                        startOnLoad: false, // We'll manually control rendering
                        theme: 'default',
                        themeVariables: {
                            primaryColor: '#233570',
                            primaryTextColor: '#233570',
                            primaryBorderColor: '#233570',
                            lineColor: '#666666'
                        },
                        securityLevel: 'loose',
                        flowchart: {
                            useMaxWidth: true,
                            htmlLabels: true
                        },
                        sequence: {
                            useMaxWidth: true
                        },
                        gantt: {
                            useMaxWidth: true
                        }
                    });
                }

                mermaidInitialized = true;
                console.log('Mermaid initialized successfully');

                // Render diagrams after initialization
                setTimeout(renderAllMermaidDiagrams, 200);

            } catch (error) {
                console.error('Error initializing Mermaid:', error);
            }
        }

        function renderAllMermaidDiagrams() {
            const mermaidElements = document.querySelectorAll('.mermaid');
            console.log(`Found ${mermaidElements.length} mermaid elements to render`);

            // Process diagrams sequentially with delays
            let index = 0;

            function renderNextDiagram() {
                if (index >= mermaidElements.length) {
                    console.log('All diagrams processed');
                    return;
                }

                const element = mermaidElements[index];

                if (!element.querySelector('svg') && element.textContent.trim()) {
                    try {
                        // Generate unique ID for each diagram
                        const diagramId = element.id || `mermaid-diagram-${index}-${Date.now()}`;
                        element.id = diagramId;

                        // Get the diagram content
                        const content = element.textContent.trim();

                        // Add loading indicator
                        const originalContent = element.innerHTML;
                        element.innerHTML = '<div style="padding: 1rem; text-align: center; color: #666; font-size: 0.9em;"><i class="fas fa-spinner fa-spin"></i> Renderizando diagrama...</div>';

                        // Use mermaid.render for better error handling
                        if (mermaid.render) {
                            mermaid.render(`${diagramId}-svg`, content)
                                .then(({ svg }) => {
                                    element.innerHTML = svg;
                                    console.log(`Diagram ${index + 1}/${mermaidElements.length} rendered successfully: ${diagramId}`);

                                    // Process next diagram after delay
                                    index++;
                                    setTimeout(renderNextDiagram, 150);
                                })
                                .catch(error => {
                                    console.error(`Error rendering diagram ${index + 1}:`, error);
                                    element.innerHTML = `<div style="color: #d32f2f; padding: 10px; border: 1px solid #d32f2f; border-radius: 4px; font-size: 0.8em;">
                                        <strong>⚠️ Error renderizando diagrama</strong><br>
                                        <button onclick="retryDiagramRender('${diagramId}')" style="background: #233570; color: white; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; margin-top: 5px; font-size: 0.8em;">
                                            🔄 Reintentar
                                        </button>
                                    </div>`;

                                    // Continue with next diagram
                                    index++;
                                    setTimeout(renderNextDiagram, 150);
                                });
                        } else {
                            // Fallback to mermaid.init
                            element.innerHTML = originalContent;
                            mermaid.init(undefined, element);
                            console.log(`Diagram ${index + 1}/${mermaidElements.length} initialized with mermaid.init: ${diagramId}`);

                            // Process next diagram after delay
                            index++;
                            setTimeout(renderNextDiagram, 150);
                        }

                    } catch (error) {
                        console.error(`Error processing diagram ${index + 1}:`, error);
                        element.innerHTML = `<div style="color: #d32f2f; padding: 10px; font-size: 0.8em;">⚠️ Error: No se pudo procesar el diagrama</div>`;

                        // Continue with next diagram
                        index++;
                        setTimeout(renderNextDiagram, 150);
                    }
                } else {
                    // Skip this diagram and continue
                    console.log(`Skipping diagram ${index + 1} (already rendered or no content)`);
                    index++;
                    setTimeout(renderNextDiagram, 50);
                }
            }

            // Start rendering process
            renderNextDiagram();
        }

        // Function to retry rendering a specific diagram
        function retryDiagramRender(diagramId) {
            const element = document.getElementById(diagramId);
            if (!element) return;

            const originalContent = element.getAttribute('data-original-content') || element.textContent;
            element.innerHTML = originalContent;

            // Re-render this specific diagram
            setTimeout(() => {
                if (element.textContent.trim()) {
                    const content = element.textContent.trim();
                    element.innerHTML = '<div style="padding: 1rem; text-align: center; color: #666; font-size: 0.9em;"><i class="fas fa-spinner fa-spin"></i> Reintentando...</div>';

                    if (mermaid.render) {
                        mermaid.render(`${diagramId}-retry-${Date.now()}`, content)
                            .then(({ svg }) => {
                                element.innerHTML = svg;
                                console.log(`Diagram ${diagramId} retried successfully`);
                            })
                            .catch(error => {
                                console.error(`Retry failed for diagram ${diagramId}:`, error);
                                element.innerHTML = `<div style="color: #d32f2f; padding: 10px; border: 1px solid #d32f2f; border-radius: 4px; font-size: 0.8em;">
                                    <strong>⚠️ Error persistente</strong><br>
                                    <small>El diagrama no se puede renderizar</small>
                                </div>`;
                            });
                    }
                }
            }, 100);
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeMermaid);
        } else {
            setTimeout(initializeMermaid, 100);
        }

        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            transition: 'convex',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',

            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
    </script>

</body>

</html>